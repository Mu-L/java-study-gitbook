(window.webpackJsonp=window.webpackJsonp||[]).push([[228],{605:function(a,t,s){"use strict";s.r(t);var e=s(26),r=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"联合索引-最左匹配原则成因"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#联合索引-最左匹配原则成因"}},[a._v("#")]),a._v(" 联合索引-最左匹配原则成因")]),a._v(" "),s("h2",{attrs:{id:"_1-什么是联合索引"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是联合索引"}},[a._v("#")]),a._v(" 1. 什么是联合索引")]),a._v(" "),s("p",[a._v("联合索引就是由多列组合成的索引")]),a._v(" "),s("h2",{attrs:{id:"_2-什么是最左匹配原则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-什么是最左匹配原则"}},[a._v("#")]),a._v(" 2. 什么是最左匹配原则")]),a._v(" "),s("h3",{attrs:{id:"_2-1-简单概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-简单概述"}},[a._v("#")]),a._v(" 2.1 简单概述")]),a._v(" "),s("p",[a._v("假设我们有两列a，b。我们对ab设置一个联合索引，我们再where 语句中")]),a._v(" "),s("ul",[s("li",[a._v("调用a=？ and b=?,他就会走ab索引。")]),a._v(" "),s("li",[a._v("调用where a=？ 他也会走ab索引")]),a._v(" "),s("li",[a._v("调用where b=？，不走ab 索引")])]),a._v(" "),s("h3",{attrs:{id:"_2-2-定义"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-定义"}},[a._v("#")]),a._v(" 2.2 定义")]),a._v(" "),s("ol",[s("li",[a._v("mysql 会一直向右匹配知道遇到范围查询（>、<、between、like）就会停止匹配，比如a=3 and b=4 and c>5 and d=6 如果建立（a,b,c,d）顺序的所有，d是用不到索引的，如果建立（a,b,d,c）的索引则都可以用到，a、b、d的顺序可以任意调整")]),a._v(" "),s("li",[a._v("=和in 可以乱序，比如a=1 and b=2 and c=3 建立（a,b,c）索引可以任意顺序，mysql的查询优化器会帮你优化成索引可以识别的形式")])]),a._v(" "),s("h2",{attrs:{id:"_3-示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-示例"}},[a._v("#")]),a._v(" 3. 示例")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("包含联合索引的表信息")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20210405235609971.png",alt:"image-20210405235609971"}})])]),a._v(" "),s("li",[s("p",[a._v("走联合索引情况")]),a._v(" "),s("p",[a._v("查询")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20210405235710376.png",alt:"image-20210405235710376"}})]),a._v(" "),s("p",[a._v("使用explain 查询")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20210405235731210.png",alt:"image-20210405235731210"}})])]),a._v(" "),s("li",[s("p",[a._v("我们删了area，不走索引")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20210406000020398.png",alt:"image-20210406000020398"}})]),a._v(" "),s("p",[a._v("此时的type：ALL")])])]),a._v(" "),s("h2",{attrs:{id:"_4-成因分析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-成因分析"}},[a._v("#")]),a._v(" 4. 成因分析")]),a._v(" "),s("p",[a._v("建立复合索引会对第一个字段排序，再对第二个字段排序，类似于order by 字段1 ，再order by 字段2、所以的第一个字段是绝对有序的，所以直接使用第二个字段是用不到索引的")])])}),[],!1,null,null,null);t.default=r.exports}}]);