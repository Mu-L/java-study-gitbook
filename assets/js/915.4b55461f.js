(window.webpackJsonp=window.webpackJsonp||[]).push([[915],{1292:function(s,a,t){"use strict";t.r(a);var e=t(26),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"jenkins安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jenkins安装"}},[s._v("#")]),s._v(" Jenkins安装")]),s._v(" "),t("h2",{attrs:{id:"_1-简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-简介"}},[s._v("#")]),s._v(" 1. 简介")]),s._v(" "),t("p",[s._v("Jenkins是开源CI&CD软件领导者，提供超过1000个插件来支持构建、部署、自动化，满足任何项目的需要。我们可以用Jenkins来构建和部署我们的项目，比如说从我们的代码仓库获取代码，然后将我们的代码打包成可执行的文件，之后通过远程的ssh工具执行脚本来运行我们的项目。")]),s._v(" "),t("h2",{attrs:{id:"_2-jenkins的安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-jenkins的安装"}},[s._v("#")]),s._v(" 2. Jenkins的安装")]),s._v(" "),t("h3",{attrs:{id:"_2-1-docker环境下的安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-docker环境下的安装"}},[s._v("#")]),s._v(" 2.1 Docker环境下的安装")]),s._v(" "),t("ul",[t("li",[s._v("下载Jenkins的Docker镜像：")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("docker pull jenkins/jenkins:lts\n")])])]),t("ul",[t("li",[s._v("在Docker容器中运行Jenkins：")])]),s._v(" "),t("div",{staticClass:"language-dockerfile extra-class"},[t("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[t("code",[s._v("docker run "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("p 18080"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("8080 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("p 50000"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("5000 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("name jenkins \\\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("u root \\\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("v /mydata/jenkins_home"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("/var/jenkins_home \\\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("d jenkins/jenkins"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("lts\n")])])]),t("p",[s._v("注：可在上面语句后添加编码。如果不设置编码的话，会出现乱码问题（博主没设置出现了问题）")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("-e JAVA_OPTS=-Dfile.encoding=UTF-8 \n")])])]),t("h2",{attrs:{id:"_3-jenkins的配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-jenkins的配置"}},[s._v("#")]),s._v(" 3. Jenkins的配置")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("运行成功后访问该地址登录Jenkins，第一次登录需要输入管理员密码：")]),s._v(" "),t("p",[t("a",{attrs:{href:"http://localhost:18080/",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://ip:18080/"),t("OutboundLink")],1)]),s._v(" "),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20210915171144707.png",alt:"image-20210915171144707"}})])]),s._v(" "),t("li",[t("p",[s._v("使用管理员密码进行登录，可以使用以下命令从容器启动日志中获取管理密码：")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("docker logs jenkins\n")])])])]),s._v(" "),t("li",[t("p",[s._v("从日志中获取管理员密码：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20210915171324018.png",alt:"image-20210915171324018"}})])]),s._v(" "),t("li",[t("p",[s._v("选择安装插件方式，这里我们直接安装推荐的插件：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20210915171418370.png",alt:"image-20210915171418370"}})])]),s._v(" "),t("li",[t("p",[s._v("进入插件安装界面，联网等待插件安装：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20210915171547103.png",alt:"image-20210915171547103"}})])]),s._v(" "),t("li",[t("p",[s._v("安装完成后，创建管理员账号：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20210915171851041.png",alt:"image-20210915171851041"}})])]),s._v(" "),t("li",[t("p",[s._v("进行实例配置，配置Jenkins的URL：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20210915171931540.png",alt:"image-20210915171931540"}})])]),s._v(" "),t("li",[t("p",[s._v("点击系统管理->插件管理，进行一些自定义的插件安装：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20210915172144017.png",alt:"image-20210915172144017"}})])]),s._v(" "),t("li",[t("p",[s._v("确保以下插件被正确安装：")]),s._v(" "),t("ul",[t("li",[s._v("根据角色管理权限的插件：Role-based Authorization Strategy")]),s._v(" "),t("li",[s._v("远程使用ssh的插件：SSH plugin")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20210915172346532.png",alt:"image-20210915172346532"}})])]),s._v(" "),t("li",[t("p",[s._v("通过系统管理->全局工具配置来进行全局工具的配置，比如maven的配置：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20210915172442277.png",alt:"image-20210915172442277"}})])]),s._v(" "),t("li",[t("p",[s._v("新增maven的安装配置：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20210915172624437.png",alt:"image-20210915172624437"}})])]),s._v(" "),t("li",[t("p",[s._v("在系统管理->系统配置中添加全局ssh的配置，这样Jenkins使用ssh就可以执行远程的linux脚本了：")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("添加凭据")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20210915173546451.png",alt:"image-20210915173546451"}})])])])])]),s._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[t("p",[s._v("添加ssh")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20210915173701296.png",alt:"image-20210915173701296"}})])])]),s._v(" "),t("h2",{attrs:{id:"_4-角色权限管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-角色权限管理"}},[s._v("#")]),s._v(" 4. 角色权限管理")]),s._v(" "),t("blockquote",[t("p",[s._v("我们可以使用Jenkins的角色管理插件来管理Jenkins的用户，比如我们可以给管理员赋予所有权限，运维人员赋予执行任务的相关权限，其他人员只赋予查看权限。")])]),s._v(" "),t("ul",[t("li",[s._v("在系统管理->全局安全配置中启用基于角色的权限管理：")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20210915173908996.png",alt:"image-20210915173908996"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20210915184054625.png",alt:"image-20210915184054625"}})]),s._v(" "),t("ul",[t("li",[s._v("进入系统管理->Manage and Assign Roles界面：")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20210915184216609.png",alt:"image-20210915184216609"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20210915184242961.png",alt:"image-20210915184242961"}})]),s._v(" "),t("ul",[t("li",[s._v("添加角色与权限的关系：")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20210915184813357.png",alt:"image-20210915184813357"}})]),s._v(" "),t("ul",[t("li",[s._v("给用户分配角色：")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20210915184857025.png",alt:"image-20210915184857025"}})]),s._v(" "),t("h2",{attrs:{id:"参考文章"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考文章"}},[s._v("#")]),s._v(" 参考文章")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://juejin.cn/post/6844904022097264648",target:"_blank",rel:"noopener noreferrer"}},[s._v("使用Jenkins一键打包部署SpringBoot应用，就是这么6！"),t("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=n.exports}}]);