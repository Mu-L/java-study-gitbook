(window.webpackJsonp=window.webpackJsonp||[]).push([[723],{1099:function(a,s,t){"use strict";t.r(s);var i=t(26),e=Object(i.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"spring-cloud应用整合skywalking"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#spring-cloud应用整合skywalking"}},[a._v("#")]),a._v(" Spring Cloud应用整合Skywalking")]),a._v(" "),t("h2",{attrs:{id:"_1-下载skywalking的压缩包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载skywalking的压缩包"}},[a._v("#")]),a._v(" 1. 下载Skywalking的压缩包")]),a._v(" "),t("p",[a._v("我们到 http://skywalking.apache.org/downloads/ 地址下载Skywalking的压缩包")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/img/image-20200129180214340.png",alt:"image-20200129180214340"}})]),a._v(" "),t("p",[a._v("下载解压后将agent文件。agent文件夹内容如下所示")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/img/image-20200129181049541.png",alt:"image-20200129181049541"}})]),a._v(" "),t("h2",{attrs:{id:"_2-配置启动环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-配置启动环境"}},[a._v("#")]),a._v(" 2. 配置启动环境")]),a._v(" "),t("p",[a._v("在IDEA对应项目的启动配置中添加Skywalking agent探针配置")]),a._v(" "),t("p",[a._v("我们以chinahrss-auth为例")]),a._v(" "),t("p",[a._v("点击IDEA的Edit Configurations...，然后选择Environment -> VM Options，添加如下脚本：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("-javaagent:/Users/zsz/Project/software/skywalking/apache-skywalking-apm-bin/agent/skywalking-agent.jar\n-Dskywalking.agent.service_name=chinahrss-auth\n-Dskywalking.collector.backend_service=120.79.200.111:11800\n")])])]),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/img/image-20200129181547137.png",alt:"image-20200129181547137"}})]),a._v(" "),t("ul",[t("li",[t("p",[a._v("-javaagent:/Users/zsz/Project/software/skywalking/apache-skywalking-apm-bin/agent/skywalking-agent.jar")]),a._v(" "),t("p",[a._v("指定了探针应用agent的地址")])]),a._v(" "),t("li",[t("p",[a._v("-Dskywalking.agent.service_name=chinahrss-auth")]),a._v(" "),t("p",[a._v("指定了被手机的应用名称为chinahrss-auth")])]),a._v(" "),t("li",[t("p",[a._v("-Dskywalking.collector.backend_service=120.79.200.111:11800")]),a._v(" "),t("p",[a._v("指定了收集器的地址，即刚刚我们使用Docker Compose构建的skywalking-oap。")])])]),a._v(" "),t("h2",{attrs:{id:"_3-查看效果"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-查看效果"}},[a._v("#")]),a._v(" 3. 查看效果")]),a._v(" "),t("h3",{attrs:{id:"_3-1-主页跟踪效果"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-主页跟踪效果"}},[a._v("#")]),a._v(" 3.1 主页跟踪效果")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/img/image-20200129185146288.png",alt:"image-20200129185146288"}})]),a._v(" "),t("h3",{attrs:{id:"_3-2-拓扑图"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-拓扑图"}},[a._v("#")]),a._v(" 3.2 拓扑图")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/img/image-20200129185302547.png",alt:"image-20200129185302547"}})]),a._v(" "),t("h3",{attrs:{id:"_3-3-请求链路跟踪"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-请求链路跟踪"}},[a._v("#")]),a._v(" 3.3 请求链路跟踪")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/img/image-20200129185500824.png",alt:"image-20200129185500824"}})]),a._v(" "),t("p",[a._v("可以清晰的看到完整的请求调用链。查看一笔失败的调用，可以看到失败的具体异常堆栈：")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/img/image-20200129185918941.png",alt:"image-20200129185918941"}})]),a._v(" "),t("h3",{attrs:{id:"_3-4-仪表盘的service"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-仪表盘的service"}},[a._v("#")]),a._v(" 3.4 仪表盘的Service")]),a._v(" "),t("p",[a._v("点击仪表盘页面的Service，可以看到一些服务相关的信息，如平均响应时间、平均吞吐量、平均时延统计，如下图所示：")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/img/image-20200129190012976.png",alt:"image-20200129190012976"}})]),a._v(" "),t("h3",{attrs:{id:"_3-5-仪表盘的endpoint"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-仪表盘的endpoint"}},[a._v("#")]),a._v(" 3.5 仪表盘的Endpoint")]),a._v(" "),t("p",[a._v("点击仪表盘页面的Endpoint，可以看到一些端点相关的信息，如下图所示：")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/img/image-20200129190125838.png",alt:"image-20200129190125838"}})]),a._v(" "),t("h3",{attrs:{id:"_3-6-仪表盘的instance"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-仪表盘的instance"}},[a._v("#")]),a._v(" 3.6 仪表盘的Instance")]),a._v(" "),t("p",[a._v("点击仪表盘页面的Instance，可以看到一些JVM相关的信息，如下图所示：")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/img/image-20200129190255411.png",alt:"image-20200129190255411"}})])])}),[],!1,null,null,null);s.default=e.exports}}]);