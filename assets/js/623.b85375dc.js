(window.webpackJsonp=window.webpackJsonp||[]).push([[623],{996:function(e,t,o){"use strict";o.r(t);var r=o(26),s=Object(r.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"js导出-exports、module-exports-和-export、export-default"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#js导出-exports、module-exports-和-export、export-default"}},[e._v("#")]),e._v(" js导出：exports、module.exports 和 export、export default")]),e._v(" "),o("h2",{attrs:{id:"_1-前言"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_1-前言"}},[e._v("#")]),e._v(" 1. 前言")]),e._v(" "),o("p",[e._v("js导入导出有多种方式，新手常常被绕得晕头转向")]),e._v(" "),o("p",[e._v("它们的使用范围")]),e._v(" "),o("ul",[o("li",[o("p",[o("code",[e._v("require")]),e._v(": node 支持的引入")])]),e._v(" "),o("li",[o("p",[o("code",[e._v("module.exports / exports")]),e._v(": 只有 node 支持的导出")])]),e._v(" "),o("li",[o("p",[o("code",[e._v("export / import")]),e._v(" : 只有es6 支持的导出引入`")])])]),e._v(" "),o("blockquote",[o("p",[e._v("我们大部分在vue中使用的是es6 "),o("code",[e._v("export / import")]),e._v(" 的导入导出，")]),e._v(" "),o("p",[e._v("如导出api:")]),e._v(" "),o("p",[e._v("​\tlet api{")]),e._v(" "),o("p",[e._v("​\t\t// 网络请求")]),e._v(" "),o("p",[e._v("​\t}")]),e._v(" "),o("p",[e._v("export default api;")]),e._v(" "),o("p",[e._v("导入：")]),e._v(" "),o("p",[e._v("import api from '../api/myapi';")])]),e._v(" "),o("h2",{attrs:{id:"_2-node模块"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_2-node模块"}},[e._v("#")]),e._v(" 2.node模块")]),e._v(" "),o("p",[o("code",[e._v("Node")]),e._v("里面的模块系统遵循的是"),o("code",[e._v("CommonJS")]),e._v("规范。 那问题又来了，什么是"),o("code",[e._v("CommonJS")]),e._v("规范呢？ 由于"),o("code",[e._v("js")]),e._v("以前比较混乱，各写各的代码，没有一个模块的概念，而这个规范出来其实就是对模块的一个定义。")]),e._v(" "),o("blockquote",[o("p",[o("code",[e._v("CommonJS")]),e._v("定义的模块分为: 模块标识("),o("code",[e._v("module")]),e._v(")、模块定义("),o("code",[e._v("exports")]),e._v(") 、模块引用("),o("code",[e._v("require")]),e._v(")")])]),e._v(" "),o("p",[e._v("先解释 "),o("code",[e._v("exports")]),e._v(" 和 "),o("code",[e._v("module.exports")]),e._v(" 在一个node执行一个文件时，会给这个文件内生成一个 "),o("code",[e._v("exports")]),e._v("和"),o("code",[e._v("module")]),e._v("对象， 而"),o("code",[e._v("module")]),e._v("又有一个"),o("code",[e._v("exports")]),e._v("属性。他们之间的关系如下图，都指向一块{}内存区域。")]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("exports = module.exports = {};\n")])])]),o("p",[o("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/img/image-20210207165709128.png",alt:"image-20210207165709128"}})]),e._v(" "),o("p",[e._v("那下面我们来看看代码的吧。")]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("//utils.js\nlet a = 100;\nconsole.log(module.exports); //能打印出结果为：{}\nconsole.log(exports); //能打印出结果为：{}\n\nexports.a = 200; //这里辛苦劳作帮 module.exports 的内容给改成 {a : 200}\n\nexports = '指向其他内存区'; //这里把exports的指向指走\n\n//test.js\n\nvar a = require('/utils');\nconsole.log(a) // 打印为 {a : 200} \n\n")])])]),o("blockquote",[o("p",[e._v("从上面可以看出，其实"),o("code",[e._v("require")]),e._v("导出的内容是"),o("code",[e._v("module.exports")]),e._v("的指向的内存块内容，并不是"),o("code",[e._v("exports")]),e._v("的。 简而言之，"),o("strong",[e._v("区分他们之间的区别就是 "),o("code",[e._v("exports")]),e._v(" 只是 "),o("code",[e._v("module.exports")]),e._v("的引用，辅助后者添加内容用的")]),e._v("。")])]),e._v(" "),o("p",[e._v("用白话讲就是，"),o("code",[e._v("exports")]),e._v("只辅助"),o("code",[e._v("module.exports")]),e._v("操作内存中的数据，辛辛苦苦各种操作数据完，累得要死，结果到最后真正被"),o("code",[e._v("require")]),e._v("出去的内容还是"),o("code",[e._v("module.exports")]),e._v("的，真是好苦逼啊。")]),e._v(" "),o("p",[e._v("其实大家用内存块的概念去理解，就会很清楚了。")]),e._v(" "),o("p",[e._v("然后呢，为了避免糊涂，"),o("strong",[e._v("尽量都用 "),o("code",[e._v("module.exports")]),e._v(" 导出，然后用"),o("code",[e._v("require")]),e._v("导入。")])]),e._v(" "),o("h2",{attrs:{id:"_3-es中的模块导出导入"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_3-es中的模块导出导入"}},[e._v("#")]),e._v(" 3. ES中的模块导出导入")]),e._v(" "),o("p",[e._v("在es中的模块，就非常清晰了。不过也有一些细节的东西需要搞清楚。 比如 "),o("code",[e._v("export")]),e._v(" 和 "),o("code",[e._v("export default")]),e._v("，还有 导入的时候，"),o("code",[e._v("import a from ..")]),e._v(","),o("code",[e._v("import {a} from ..")]),e._v("，总之也有点乱，那么下面我们就开始把它们捋清楚吧。")]),e._v(" "),o("h3",{attrs:{id:"_3-1-export-和-export-default"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-export-和-export-default"}},[e._v("#")]),e._v(" 3.1 export 和 export default")]),e._v(" "),o("p",[e._v("首先我们讲这两个导出，下面我们讲讲它们的区别")]),e._v(" "),o("ol",[o("li",[e._v("export与export default均可用于导出常量、函数、文件、模块等")]),e._v(" "),o("li",[e._v("在一个文件或模块中，export、import可以有多个，export default仅有一个")]),e._v(" "),o("li",[e._v("通过export方式导出，在导入时要加{ }，export default则不需要")]),e._v(" "),o("li",[e._v("export能直接导出变量表达式，export default不行。")])]),e._v(" "),o("p",[e._v("下面咱们看看代码去验证一下")]),e._v(" "),o("h3",{attrs:{id:"_3-2-es6导出验证"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-es6导出验证"}},[e._v("#")]),e._v(" 3.2 ES6导出验证")]),e._v(" "),o("h4",{attrs:{id:"testes6export-js"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#testes6export-js"}},[e._v("#")]),e._v(" testEs6Export.js")]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("'use strict'\n//导出变量\nexport const a = '100';  \n\n //导出方法\nexport const dogSay = function(){ \n    console.log('wang wang');\n}\n\n //导出方法第二种\nfunction catSay(){\n   console.log('miao miao'); \n}\nexport { catSay };\n\n//export default导出\nconst m = 100;\nexport default m; \n//export defult const m = 100;// 这里不能写这种格式。\n")])])]),o("h3",{attrs:{id:"_3-3-es6导入验证"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-es6导入验证"}},[e._v("#")]),e._v(" 3.3 ES6导入验证")]),e._v(" "),o("h4",{attrs:{id:"index-js"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#index-js"}},[e._v("#")]),e._v(" index.js")]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("//index.js\n'use strict'\nvar express = require('express');\nvar router = express.Router();\n\nimport { dogSay, catSay } from './testEs6Export'; //导出了 export 方法 \nimport m from './testEs6Export';  //导出了 export default \n\nimport * as testModule from './testEs6Export';//as 集合成对象导出\n\n\n\n/* GET home page. */\nrouter.get('/', function(req, res, next) {\n  dogSay();\n  catSay();\n  console.log(m);\n  testModule.dogSay();\n  console.log(testModule.m); // undefined , 因为  as 导出是 把 零散的 export 聚集在一起作为一个对象，而export default 是导出为 default属性。\n  console.log(testModule.default); // 100\n  res.send('恭喜你，成功验证');\n});\n\nmodule.exports = router;\n\n")])])]),o("p",[e._v("从上面可以看出，确实感觉 "),o("code",[e._v("ES6")]),e._v("的模块系统非常灵活的。")]),e._v(" "),o("h2",{attrs:{id:"参考文章"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#参考文章"}},[e._v("#")]),e._v(" 参考文章")]),e._v(" "),o("p",[o("a",{attrs:{href:"https://juejin.im/post/6844903489257095181",target:"_blank",rel:"noopener noreferrer"}},[e._v("exports、module.exports 和 export、export default 到底是咋回事"),o("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=s.exports}}]);