(window.webpackJsonp=window.webpackJsonp||[]).push([[614],{989:function(s,t,n){"use strict";n.r(t);var i=n(26),a=Object(i.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"首页优化之-gzip压缩"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#首页优化之-gzip压缩"}},[s._v("#")]),s._v(" 首页优化之-gzip压缩")]),s._v(" "),n("p",[s._v("当前打包出来的dist 是13.6M")]),s._v(" "),n("p",[s._v("使用gzip压缩之后变成15.8M,在原有的基础上加上了gzip")]),s._v(" "),n("h2",{attrs:{id:"_1-简介"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-简介"}},[s._v("#")]),s._v(" 1. 简介")]),s._v(" "),n("p",[s._v("gzip 压缩是一种http请求优化方式，通过减少文件体积来提高加载速度。html、js、css文件甚至json数据都可以用它来压缩，可以减少60%以上的体积")]),s._v(" "),n("h2",{attrs:{id:"_2-压缩配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-压缩配置"}},[s._v("#")]),s._v(" 2. 压缩配置")]),s._v(" "),n("h3",{attrs:{id:"_2-1-安装-compression-webpack-plugin-插件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-安装-compression-webpack-plugin-插件"}},[s._v("#")]),s._v(" 2.1 安装 compression webpack plugin 插件")]),s._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("npm install --save-dev compression-webpack-plugin\n")])])]),n("h3",{attrs:{id:"_2-2-在vue-cli3-0-生成的项目里-可在vue-config-js-中按照如下方式配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-在vue-cli3-0-生成的项目里-可在vue-config-js-中按照如下方式配置"}},[s._v("#")]),s._v(" 2.2 在vue cli3.0 生成的项目里，可在vue.config.js 中按照如下方式配置")]),s._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('\nconst CompressionWebpackPlugin = require("compression-webpack-plugin");\nconst productionGzipExtensions = /\\.(js|css|json|txt|html|ico|svg)(\\?.*)?$/i;\n\nmodule.exports = {\n \t...\n  configureWebpack: config => {\n    const plugins = [];\n\n    // Begin 生成 gzip 压缩文件\n    plugins.push(\n        new CompressionWebpackPlugin({\n            filename: "[path].gz[query]",\n            algorithm: "gzip",\n            test: productionGzipExtensions,\n            threshold: 10240,\n            minRatio: 0.8\n        })\n    );\n    // End 生成 gzip 压缩文件\n    \n    config.plugins = [...config.plugins, ...plugins];\n\t},\n\t...\n}\n')])])]),n("h3",{attrs:{id:"_2-3-nginx-配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-nginx-配置"}},[s._v("#")]),s._v(" 2.3 nginx 配置")]),s._v(" "),n("p",[s._v("在nginx.conf 的 在http 中添加")]),s._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[s._v("gzip                on;\n#gzip_static         on;\ngzip_min_length     1k;\ngzip_comp_level     5;\ngzip_http_version   1.0;\ngzip_types          text/plain application/javascript application/x-javascript text/javascript text/xml text/css;\n")])])]),n("p",[s._v("使用 gzip_static  需要nginx 支持，可选择性开启")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("使用前876KB")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/img/image-20200326183747822.png",alt:"image-20200326183747822"}})])]),s._v(" "),n("li",[n("p",[s._v("使用后311KB")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/img/image-20200326183657671.png",alt:"image-20200326183657671"}})])])])])}),[],!1,null,null,null);t.default=a.exports}}]);