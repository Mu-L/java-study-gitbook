(window.webpackJsonp=window.webpackJsonp||[]).push([[131],{504:function(t,s,a){"use strict";a.r(s);var n=a(26),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"linux网络监控"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux网络监控"}},[t._v("#")]),t._v(" Linux网络监控")]),t._v(" "),a("h2",{attrs:{id:"_1-简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-简介"}},[t._v("#")]),t._v(" 1. 简介")]),t._v(" "),a("p",[t._v("linux中网络监控命令主要是netstat 和sar")]),t._v(" "),a("h2",{attrs:{id:"_2-监控命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-监控命令"}},[t._v("#")]),t._v(" 2. 监控命令")]),t._v(" "),a("h3",{attrs:{id:"_2-1-netstat"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-netstat"}},[t._v("#")]),t._v(" 2.1 netstat")]),t._v(" "),a("h4",{attrs:{id:"_2-1-1-简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-简介"}},[t._v("#")]),t._v(" 2.1.1 简介")]),t._v(" "),a("p",[t._v("netstat命令一般用于检验本机各端口的网络连接情况，用于显示与IP、TCP、UDP和ICMP协议相关的统计数据。")]),t._v(" "),a("h4",{attrs:{id:"_2-1-2-常用实例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2-常用实例"}},[t._v("#")]),t._v(" 2.1.2 常用实例：")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" -aup      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输出所有UDP连接状况")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" -atp      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输出所有TCP连接状况")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" -s        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示各个协议的网络统计信息")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" -i        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示网卡列表")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" -r        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示路由表信息")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" -l        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 只显示监听端口")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" -lt       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 只列出所有监听 tcp 端口")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" -lu       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 只列出所有监听 udp 端口")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" -lx       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 只列出所有监听 UNIX 端口")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" -p或--programs "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示正在使用Socket的程序识别码和程序名称；")]),t._v("\n")])])]),a("h4",{attrs:{id:"_2-1-3-tldr-中的介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-3-tldr-中的介绍"}},[t._v("#")]),t._v(" 2.1.3 tldr 中的介绍")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v("\n\n  显示与网络相关的信息，如打开的连接、打开的套接字端口等.\n  更多信息: https://www.unix.com/man-page/osx/1/netstat.\n\n  - 列出所有端口:\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" -a\n\n  - 列出所有被侦听端口:\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" -l\n\n  - 列出侦听的 TCP 端口:\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" -t\n\n  - 显示监听给定协议监听的 PID 和程序名:\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" -p 协议\n\n  - 打印路由表:\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" -nr\n")])])]),a("h4",{attrs:{id:"_2-1-4-示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-4-示例"}},[t._v("#")]),t._v(" 2.1.4 示例")]),t._v(" "),a("h5",{attrs:{id:"_2-1-4-1-列出所有端口-包含tcp和udp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-4-1-列出所有端口-包含tcp和udp"}},[t._v("#")]),t._v(" 2.1.4.1 "),a("strong",[t._v("列出所有端口(包含TCP和UDP)")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("netstat -a\n")])])]),a("p",[a("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220408145537683.png",alt:"image-20220408145537683"}})]),t._v(" "),a("h5",{attrs:{id:"_2-1-4-2-列出所有tcp端口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-4-2-列出所有tcp端口"}},[t._v("#")]),t._v(" 2.1.4.2 "),a("strong",[t._v("列出所有TCP端口")])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("> netstat -at\n")])])]),a("p",[a("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220408145637391.png",alt:"image-20220408145637391"}})]),t._v(" "),a("h5",{attrs:{id:"_2-1-4-3-列出所有udp端口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-4-3-列出所有udp端口"}},[t._v("#")]),t._v(" 2.1.4.3 "),a("strong",[t._v("列出所有UDP端口")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" -au\n")])])]),a("p",[a("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220408145728045.png",alt:"image-20220408145728045"}})]),t._v(" "),a("h5",{attrs:{id:"_2-1-4-4-找出程序运行的端口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-4-4-找出程序运行的端口"}},[t._v("#")]),t._v(" 2.1.4.4 "),a("strong",[t._v("找出程序运行的端口")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v(" netstat -tunlp | grep redis\n")])])]),a("p",[a("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220408150002077.png",alt:"image-20220408150002077"}})]),t._v(" "),a("h5",{attrs:{id:"_2-1-4-5-找出运行在指定端口的进程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-4-5-找出运行在指定端口的进程"}},[t._v("#")]),t._v(" 2.1.4.5 "),a("strong",[t._v("找出运行在指定端口的进程")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" -tunlp "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6379")]),t._v("\n")])])]),a("p",[a("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220408150517112.png",alt:"image-20220408150517112"}})]),t._v(" "),a("h5",{attrs:{id:"_2-1-4-6-通过端口找进程id"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-4-6-通过端口找进程id"}},[t._v("#")]),t._v(" 2.1.4.6 通过端口找进程ID")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" -tunlp "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6379")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("awk")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{print "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$7")]),t._v("}'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cut")]),t._v(" -d/ -f1\n")])])]),a("p",[a("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220408150717292.png",alt:"image-20220408150717292"}})]),t._v(" "),a("h3",{attrs:{id:"_2-2-sar"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-sar"}},[t._v("#")]),t._v(" 2.2 sar")]),t._v(" "),a("h4",{attrs:{id:"_2-2-1-简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-1-简介"}},[t._v("#")]),t._v(" 2.2.1 简介")]),t._v(" "),a("p",[t._v("sar命令 是Linux下系统运行状态统计工具，它将指定的操作系统状态计数器显示到标准输出设备。")]),t._v(" "),a("h4",{attrs:{id:"_2-2-2-字段说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-2-字段说明"}},[t._v("#")]),t._v(" 2.2.2 字段说明")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("IFACE")]),t._v("：网络设备的名称")]),t._v(" "),a("li",[a("code",[t._v("rxpck/s")]),t._v("：每秒钟接收到的包数目")]),t._v(" "),a("li",[a("code",[t._v("txpck/s")]),t._v("：每秒钟发送出去的包数目")]),t._v(" "),a("li",[a("code",[t._v("rxkB/s")]),t._v("：每秒钟接收到的字节数")]),t._v(" "),a("li",[a("code",[t._v("txkB/s")]),t._v("：每秒钟发送出去的字节数")])]),t._v(" "),a("h4",{attrs:{id:"_2-2-3-示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-3-示例"}},[t._v("#")]),t._v(" 2.2.3 示例")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220401145225177.png",alt:"image-20220401145225177"}})]),t._v(" "),a("h2",{attrs:{id:"参考文章"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考文章"}},[t._v("#")]),t._v(" 参考文章")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/398839850",target:"_blank",rel:"noopener noreferrer"}},[t._v("Linux之netstat命令"),a("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=e.exports}}]);