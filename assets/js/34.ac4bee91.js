(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{409:function(a,s,t){"use strict";t.r(s);var n=t(26),e=Object(n.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"java反编译命令-javap"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#java反编译命令-javap"}},[a._v("#")]),a._v(" Java反编译命令-javap")]),a._v(" "),t("h2",{attrs:{id:"_1-简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-简介"}},[a._v("#")]),a._v(" 1. 简介")]),a._v(" "),t("p",[a._v("javap是jdk自带的一个工具，可以对代码 反编译 ，也可以查看java编译器生成的字节码。")]),a._v(" "),t("p",[t("strong",[a._v("javap命令分解一个class文件")]),a._v("，它根据options来决定到底输出什么。如果没有使用options,那么javap将会输出包，类里的protected和public域以及类里的所有方法。"),t("code",[a._v("javap")]),a._v("将会把它们输出在标准输出上。")]),a._v(" "),t("blockquote",[t("p",[a._v("一般情况下，很少有人使用javap对class文件进行反编译，因为有很多成熟的反编译工具可以使用，比如jad。但是，javap还可以查看java编译器为我们生成的字节码。通过它，可以对照源代码和字节码，从而了解很多编译器内部的工作。")])]),a._v(" "),t("h2",{attrs:{id:"_2-实例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-实例"}},[a._v("#")]),a._v(" 2. 实例")]),a._v(" "),t("p",[a._v("来看这个例子，先编译("),t("code",[a._v("javac")]),a._v(")下面这个类。")]),a._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SynchronizedTest")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("synchronized")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("doSth")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Hello World"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("doSth1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("synchronized")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SynchronizedTest")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Hello World"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("h3",{attrs:{id:"_2-1-编译-javac"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-编译-javac"}},[a._v("#")]),a._v(" 2.1 编译 javac")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("javac SynchronizedTest.java\n")])])]),t("p",[a._v("我们可以看到编译出来的class 代码我们是无法直接阅读的二进制文件")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220519170413379.png",alt:"image-20220519170413379"}})]),a._v(" "),t("h3",{attrs:{id:"_2-2-反编译javap"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-反编译javap"}},[a._v("#")]),a._v(" 2.2 反编译javap")]),a._v(" "),t("p",[a._v("我们先来使用 Javap 来反编译以上代码")]),a._v(" "),t("h4",{attrs:{id:"_2-2-1-不加参数情况"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-1-不加参数情况"}},[a._v("#")]),a._v(" 2.2.1 不加参数情况")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("javap SynchronizedTest\n")])])]),t("p",[a._v("编译结果")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('Compiled from "SynchronizedTest.java"\npublic class SynchronizedTest {\n  public SynchronizedTest();\n  public synchronized void doSth();\n  public void doSth1();\n}\n')])])]),t("h4",{attrs:{id:"_2-2-2-c-参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-2-c-参数"}},[a._v("#")]),a._v(" 2.2.2 -c 参数")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("javap -c SynchronizedTest\n")])])]),t("p",[a._v("编译出的结果")]),a._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Compiled")]),a._v(" from "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"SynchronizedTest.java"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SynchronizedTest")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SynchronizedTest")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Code")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("\n       "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" aload_0\n       "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" invokespecial #"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("                  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v('// Method java/lang/Object."<init>":()V')]),a._v("\n       "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("4")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("return")]),a._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("synchronized")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("doSth")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Code")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("\n       "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" getstatic     #"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v("                  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Field java/lang/System.out:Ljava/io/PrintStream;")]),a._v("\n       "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" ldc           #"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v("                  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// String Hello World")]),a._v("\n       "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("5")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" invokevirtual #"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("4")]),a._v("                  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Method java/io/PrintStream.println:(Ljava/lang/String;)V")]),a._v("\n       "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("8")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("return")]),a._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("doSth1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Code")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("\n       "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" ldc           #"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("5")]),a._v("                  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// class SynchronizedTest")]),a._v("\n       "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" dup\n       "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" astore_1\n       "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("4")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" monitorenter\n       "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("5")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" getstatic     #"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v("                  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Field java/lang/System.out:Ljava/io/PrintStream;")]),a._v("\n       "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("8")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" ldc           #"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v("                  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// String Hello World")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" invokevirtual #"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("4")]),a._v("                  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Method java/io/PrintStream.println:(Ljava/lang/String;)V")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("13")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" aload_1\n      "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("14")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" monitorexit\n      "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("15")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("goto")]),a._v("          "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("23")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" astore_2\n      "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("19")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" aload_1\n      "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("20")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" monitorexit\n      "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("21")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" aload_2\n      "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("22")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" athrow\n      "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("23")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("return")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Exception")]),a._v(" table"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("\n       from    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("to")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("target")]),a._v(" type\n           "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("5")]),a._v("    "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("15")]),a._v("    "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v("   any\n          "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v("    "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("21")]),a._v("    "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v("   any\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("h2",{attrs:{id:"_3-用法摘要"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-用法摘要"}},[a._v("#")]),a._v(" 3. 用法摘要")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("-help 帮助\n-l 输出行和变量的表\n-public 只输出public方法和域\n-protected 只输出public和protected类和成员\n-package 只输出包，public和protected类和成员，这是默认的\n-p -private 输出所有类和成员\n-s 输出内部类型签名\n-c 输出分解后的代码，例如，类中每一个方法内，包含java字节码的指令，\n-verbose 输出栈大小，方法参数的个数\n-constants 输出静态final常量\n")])])]),t("h2",{attrs:{id:"_4-总结"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-总结"}},[a._v("#")]),a._v(" 4. 总结")]),a._v(" "),t("p",[a._v("javap可以用于反编译和查看编译器编译后的字节码。平时一般用"),t("code",[a._v("javap -c")]),a._v("比较多，该命令用于列出每个方法所执行的JVM指令，并显示每个方法的字节码的实际作用。可以通过字节码和源代码的对比，深入分析java的编译原理，了解和解决各种Java原理级别的问题。")]),a._v(" "),t("h2",{attrs:{id:"参考文章"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考文章"}},[a._v("#")]),a._v(" 参考文章")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://www.hollischuang.com/archives/1107",target:"_blank",rel:"noopener noreferrer"}},[a._v("Java命令学习系列（七）——javap"),t("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=e.exports}}]);