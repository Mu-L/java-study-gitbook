(window.webpackJsonp=window.webpackJsonp||[]).push([[167],{543:function(a,s,e){"use strict";e.r(s);var t=e(26),r=Object(t.a)({},(function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"通过docker安装oracle"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#通过docker安装oracle"}},[a._v("#")]),a._v(" 通过docker安装Oracle")]),a._v(" "),e("h2",{attrs:{id:"_1-安装oracle"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装oracle"}},[a._v("#")]),a._v(" 1. 安装Oracle")]),a._v(" "),e("ol",[e("li",[e("p",[a._v("拉取镜像")]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[a._v("docker pull registry.cn-hangzhou.aliyuncs.com/helowin/oracle_11g\n")])])]),e("p",[a._v("镜像大概有6.8G")]),a._v(" "),e("p",[a._v("查看镜像信息：")]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[a._v("docker iamges\n")])])])]),a._v(" "),e("li",[e("p",[a._v("创建容器")]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[a._v("docker run -d -p "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("1521")]),a._v(":1521 --name oracle_11g registry.aliyuncs.com/helowin/oracle_11g\n")])])]),e("p",[a._v("启动容器")]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[a._v("docker start oracle_11g\n")])])])]),a._v(" "),e("li",[e("p",[a._v("进入控制台设置用户信息：")]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[a._v("docker "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" -it oracle_11g "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v("\n")])])])]),a._v(" "),e("li",[e("p",[a._v("切换成root进行操作：")]),a._v(" "),e("blockquote",[e("p",[a._v("su - root")])]),a._v(" "),e("p",[a._v("输入密码helowin")])]),a._v(" "),e("li",[e("p",[a._v("设置oracle环境变量如下：")]),a._v(" "),e("p",[a._v("vi /etc/profile文件末尾添加：")]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("ORACLE_HOME")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/home/oracle/app/oracle/product/11.2.0/dbhome_2\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("ORACLE_SID")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("helowin\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")])]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")]),a._v("\n")])])])]),a._v(" "),e("li",[e("p",[a._v("切换回oracle用户：")]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("su")]),a._v(" - oracle\n")])])])]),a._v(" "),e("li",[e("p",[a._v("修改sys、system用户密码")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("sqlplus /nolog\nconn /as sysdba\nalter user system identified by oracle;\nalter user sys identified by oracle;\nALTER PROFILE DEFAULT LIMIT PASSWORD_LIFE_TIME UNLIMITED;\n")])])]),e("p",[a._v("此处的oracle 就是你设置的密码")]),a._v(" "),e("p",[a._v("Ps:默认密码是：helowin")])])]),a._v(" "),e("h2",{attrs:{id:"_2-遇到的问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-遇到的问题"}},[a._v("#")]),a._v(" 2. 遇到的问题")]),a._v(" "),e("h3",{attrs:{id:"_2-1-远程连接提示"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-远程连接提示"}},[a._v("#")]),a._v(" 2.1 远程连接提示")]),a._v(" "),e("p",[a._v("ORA-12514: TNS:listener does not currently know of service requested in connect descriptor")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/img/image-20200507212411220.png",alt:"image-20200507212411220"}})]),a._v(" "),e("p",[a._v("主要原因是service name 设置的并不是ORCL 导致")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("解决方案：")]),a._v(" "),e("p",[a._v("service name 改为 helowin")])]),a._v(" "),e("li",[e("p",[a._v("解决步骤")]),a._v(" "),e("ol",[e("li",[e("p",[a._v("进入docker 容器")]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[a._v("docker "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" -it oracle_11g "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v("\n")])])])]),a._v(" "),e("li",[e("p",[a._v("进入 tnsnames.ora所在的目录")]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /home/oracle/app/oracle/product/11.2.0/dbhome_2/network/admin\n")])])])]),a._v(" "),e("li",[e("p",[a._v("查看 tnsnames.ora")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("vi  tnsnames.ora\n")])])]),e("p",[a._v("可以看到SERVICE_NAME = helowin")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/img/image-20200507213419605.png",alt:"image-20200507213419605"}})]),a._v(" "),e("p",[a._v("serviceName 改为helowin 或者这里改为orcl")])])])])]),a._v(" "),e("h2",{attrs:{id:"参考文章"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考文章"}},[a._v("#")]),a._v(" 参考文章")]),a._v(" "),e("p",[e("a",{attrs:{href:"https://segmentfault.com/a/1190000020633619",target:"_blank",rel:"noopener noreferrer"}},[a._v("centos7使用docker安装oracle"),e("OutboundLink")],1)]),a._v(" "),e("p",[e("a",{attrs:{href:"https://blog.csdn.net/weixin_30657541/article/details/98204681",target:"_blank",rel:"noopener noreferrer"}},[a._v("Linux下如何查找sqlnet.ora 和listener.ora 和tnsnames.ora 配置文件的目录"),e("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=r.exports}}]);