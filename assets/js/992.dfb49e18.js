(window.webpackJsonp=window.webpackJsonp||[]).push([[992],{1370:function(_,v,t){"use strict";t.r(v);var a=t(26),s=Object(a.a)({},(function(){var _=this,v=_.$createElement,t=_._self._c||v;return t("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[t("h1",{attrs:{id:"vue组件抽离分分合合的思考"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vue组件抽离分分合合的思考"}},[_._v("#")]),_._v(" Vue组件抽离分分合合的思考")]),_._v(" "),t("h2",{attrs:{id:"_1-背景"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-背景"}},[_._v("#")]),_._v(" 1. 背景")]),_._v(" "),t("p",[_._v("公司有个业务流程，需要超多步骤，大概15个步骤左右，每个步骤")]),_._v(" "),t("p",[_._v("又有操作和详情。")]),_._v(" "),t("p",[_._v("每个步骤的内容大概是，针对一份文件进行打分处理。")]),_._v(" "),t("ul",[t("li",[_._v("左边是文件")]),_._v(" "),t("li",[_._v("右上的操作记录")]),_._v(" "),t("li",[_._v("右下是操作区")])]),_._v(" "),t("h2",{attrs:{id:"_2-分分合合流程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-分分合合流程"}},[_._v("#")]),_._v(" 2. 分分合合流程")]),_._v(" "),t("h3",{attrs:{id:"_2-1-前端30多个页面的组合"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-前端30多个页面的组合"}},[_._v("#")]),_._v(" 2.1 前端30多个页面的组合")]),_._v(" "),t("p",[_._v("前端将30多个页面分别复制一份出来，针对不同步骤改动。")]),_._v(" "),t("ul",[t("li",[t("p",[_._v("面临的问题")]),_._v(" "),t("p",[_._v("我在对接业务的时候，很多业务逻辑其实是共用的，我需要将业务复制到30个地方（业务还是非常多且复杂的）")])])]),_._v(" "),t("h3",{attrs:{id:"_2-2-共用一个组件通过状态码判断"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-共用一个组件通过状态码判断"}},[_._v("#")]),_._v(" 2.2 共用一个组件通过状态码判断")]),_._v(" "),t("p",[_._v("我将前端的30多个组件整合到一个组件，通过状态码判断。")]),_._v(" "),t("ul",[t("li",[t("p",[_._v("优势")]),_._v(" "),t("p",[_._v("我所有的业务逻辑只需要写在一个页面中，一个改动不需要涉及过多页面同步更改")])]),_._v(" "),t("li",[t("p",[_._v("缺点")]),_._v(" "),t("ol",[t("li",[_._v("状态码实在太多了，单单一个显示隐藏就需要很多状态判断来控制。而且非常容易出错。")]),_._v(" "),t("li",[_._v("一个页面代码行数近3000行了，难以维护")])])])]),_._v(" "),t("h3",{attrs:{id:"_2-3-结合业务再一次拆分"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-结合业务再一次拆分"}},[_._v("#")]),_._v(" 2.3 结合业务再一次拆分")]),_._v(" "),t("ol",[t("li",[_._v("讲左边不易变的文件预览区，抽离成一个单独的组件")]),_._v(" "),t("li",[_._v("将右上的操作记录区按业务大节点拆分成5个小组件。\n"),t("ul",[t("li",[_._v("每个小组件只负责一个业务大节点的html处理,数据由统一的父级下发数据")]),_._v(" "),t("li",[_._v("右上是所有情况都要显示的。只是显示多少问题")])])]),_._v(" "),t("li",[_._v("将右下的操作区，根据步骤流程节点划分为20多个小组件\n"),t("ul",[t("li",[_._v("操作流程节点独立划分")]),_._v(" "),t("li",[_._v("详情与操作拆分")]),_._v(" "),t("li",[_._v("右下是根据节点情况显示不同逻辑")])])])])])}),[],!1,null,null,null);v.default=s.exports}}]);