(window.webpackJsonp=window.webpackJsonp||[]).push([[132],{515:function(s,a,t){"use strict";t.r(a);var n=t(26),r=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"linux进程监控"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux进程监控"}},[s._v("#")]),s._v(" Linux进程监控")]),s._v(" "),t("h2",{attrs:{id:"_1-简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-简介"}},[s._v("#")]),s._v(" 1. 简介")]),s._v(" "),t("p",[s._v("进程监控命令ps")]),s._v(" "),t("h2",{attrs:{id:"_2-命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-命令"}},[s._v("#")]),s._v(" 2. 命令")]),s._v(" "),t("h3",{attrs:{id:"_2-1-ps"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-ps"}},[s._v("#")]),s._v(" 2.1 ps")]),s._v(" "),t("h4",{attrs:{id:"_2-1-1-简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-简介"}},[s._v("#")]),s._v(" 2.1.1 简介")]),s._v(" "),t("p",[s._v("ps（Process Status，进程状态）命令 用于报告当前系统的进程状态。")]),s._v(" "),t("h4",{attrs:{id:"_2-1-2-语法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2-语法"}},[s._v("#")]),s._v(" 2.1.2 语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ps [参数]\n")])])]),t("p",[s._v("常用参数：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("-A    显示所有进程（同-e）\n-a    显示当前终端的所有进程\n-u    显示进程的用户信息\n-o    以用户自定义形式显示进程信息\n-f    显示程序间的关系\n")])])]),t("h4",{attrs:{id:"_2-1-3-字段含义"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-3-字段含义"}},[s._v("#")]),s._v(" 2.1.3 "),t("strong",[s._v("字段含义")])]),s._v(" "),t("p",[s._v("在介绍实例之前，需要先了解一下ps命令输出各字段的含义，这样我们才能更好地理解所展示的信息。常见字段的基本含义如下:")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v("          进程所有者的用户名\nPID           进程ID（Process ID）\nSTART         进程激活时间\n%CPU          进程的cpu占用率\n%MEM          进程使用内存的百分比\nVSZ           进程使用的虚拟内存大小，以K为单位\nRSS           驻留空间的大小。显示当前常驻内存的程序的K字节数。\nTTY           与进程关联的终端（tty）\nSTAT          进程状态，包括下面的状态： \n                     D    不可中断     Uninterruptible "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("usually IO"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n                     R    正在运行，或在队列中的进程\n                     S    处于休眠状态\n                     T    停止或被追踪\n                     Z    僵尸进程\n                     W    进入内存交换（从内核2.6开始无效）\n                     X    死掉的进程\n                     "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("    高优先级\n                     N    低优先级\n                     L    有些页被锁进内存\n                     s    包含子进程\n                     "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("+   位于后台的进程组；\n                     l    多线程，克隆线程\n\nTIME          进程使用的总CPU时间\nCOMMAND       被执行的命令行\nNI            进程的优先级值，较小的数字意味着占用较少的CPU时间\nPRI           进程优先级。\n"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PPID")]),s._v("          父进程ID\nWCHAN         进程等待的内核事件名\n")])])]),t("h4",{attrs:{id:"_2-1-4-tldr-文档"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-4-tldr-文档"}},[s._v("#")]),s._v(" 2.1.4 tldr 文档")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ➜  ~ tldr "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\nCache is out of date. You should run "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"tldr --update"')]),s._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n\n  Information about running processes.\n\n  - List all running processes:\n    显示所有运行的进程\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" aux\n\n  - List all running processes including the full "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" string:\n  \t列出所有正在运行的进程，包括完整的命令字符串\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" auxww\n\n  - Search "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" a process that matches a string:\n  \t搜索与字符串匹配的进程:\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" aux "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" string\n\n  - List all processes of the current user "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" extra full format:\n  \t以额外完整格式列出当前用户的所有进程:\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" --user "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" -u"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" -F\n\n  - List all processes of the current user as a tree:\n  \t以树的形式列出当前用户的所有进程:\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" --user "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" -u"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" f\n\n  - Get the parent pid of a process:\n  \t获取进程的父进程pid:\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -o "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ppid")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" -p pid\n\n  - Sort processes by memory consumption:\n  \t按内存消耗对进程进行排序:\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" --sort size\n")])])]),t("h4",{attrs:{id:"_2-1-5-常见用法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-5-常见用法"}},[s._v("#")]),s._v(" 2.1.5 常见用法")]),s._v(" "),t("h5",{attrs:{id:"_2-1-5-1-显示所有运行的进程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-5-1-显示所有运行的进程"}},[s._v("#")]),s._v(" 2.1.5.1 显示所有运行的进程")]),s._v(" "),t("p",[s._v("把所有进程显示出来，可用使用 ps -aux 或者 ps -A 。")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -aux \n")])])]),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220408112800947.png",alt:"image-20220408112800947"}})]),s._v(" "),t("h5",{attrs:{id:"_2-1-5-2-显示所有进程基本信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-5-2-显示所有进程基本信息"}},[s._v("#")]),s._v(" 2.1.5.2 "),t("strong",[s._v("显示所有进程基本信息")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -ef\n")])])]),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220408112951231.png",alt:"image-20220408112951231"}})]),s._v(" "),t("h5",{attrs:{id:"_2-1-5-3-搜索与字符串匹配的进程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-5-3-搜索与字符串匹配的进程"}},[s._v("#")]),s._v(" 2.1.5.3 搜索与字符串匹配的进程")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -aux "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" nginx\n")])])]),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220408113035249.png",alt:"image-20220408113035249"}})]),s._v(" "),t("h5",{attrs:{id:"_2-1-5-4-查看cpu-资源的使用量对进程进行排序"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-5-4-查看cpu-资源的使用量对进程进行排序"}},[s._v("#")]),s._v(" 2.1.5.4 "),t("strong",[s._v("查看CPU 资源的使用量对进程进行排序")])]),s._v(" "),t("p",[s._v("默认的结果集是未排好序的。可以通过 sort命令来排序。")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -aux "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sort")]),s._v(" -nk "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n")])])]),t("h5",{attrs:{id:"_2-1-5-4-其他用法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-5-4-其他用法"}},[s._v("#")]),s._v(" 2.1.5.4 "),t("strong",[s._v("其他用法")])]),s._v(" "),t("p",[s._v("ps 的用法非常多，这里仅列举一些常用的：")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("aux "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("|")]),s._v(" grep <name>      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看name 进程详细信息")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p <pid> "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("L             "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示进程<pid> 的所有线程")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("o lstart <pid>         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示进程的启动时间")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("forest "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("C <name>   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用树的风格显示进程的层次关系")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("e "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("o pid"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("uname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("pcpu"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("pmem"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("comm"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("etime  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 定制显示的列")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("o lstart <pid>         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示进程的启动时间")]),s._v("\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);