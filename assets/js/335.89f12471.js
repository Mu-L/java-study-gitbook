(window.webpackJsonp=window.webpackJsonp||[]).push([[335],{711:function(t,a,s){"use strict";s.r(a);var e=s(26),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"mybatis-pagehelper源码分析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mybatis-pagehelper源码分析"}},[t._v("#")]),t._v(" Mybatis-PageHelper源码分析")]),t._v(" "),s("h2",{attrs:{id:"_1-背景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-背景"}},[t._v("#")]),t._v(" 1. 背景")]),t._v(" "),s("p",[t._v("项目中分页是非常常见的需求，在项目中我们一般集成第三方的分页插件，避免在业务层嵌入过多业务代码。")]),t._v(" "),s("p",[t._v("分页插件，我们项目中是采用"),s("code",[t._v("Mybatis-PageHelper")]),t._v("，作为一款轻量级的插件，源码应该不难，我们就来分析分析他的源码")]),t._v(" "),s("h2",{attrs:{id:"_2-分页插件实现原理与基础"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-分页插件实现原理与基础"}},[t._v("#")]),t._v(" 2. 分页插件实现原理与基础")]),t._v(" "),s("h3",{attrs:{id:"_2-1-拦截器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-拦截器"}},[t._v("#")]),t._v(" 2.1 拦截器")]),t._v(" "),s("p",[t._v("Mybatis 提供了拦截器接口"),s("code",[t._v("Interceptor(org.apache.ibatis.plugin.Interceptor)")]),t._v(", 我们仅需要在实现类中对拦截对象和方法进行处理即可")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20211023103716074.png",alt:"image-20211023103716074"}})]),t._v(" "),s("h4",{attrs:{id:"_2-1-1-object-intercept-invocation-invocation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-object-intercept-invocation-invocation"}},[t._v("#")]),t._v(" 2.1.1 Object intercept(Invocation invocation)")]),t._v(" "),s("p",[s("strong",[t._v("intercept 是mybatis 运行时要执行的方法")]),t._v("。通过该方法的参数"),s("code",[t._v("invocation")]),t._v(" 可以得到很多有用的信息，该参数的方法常用如下")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ZszInterceptor")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Interceptor")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("intercept")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Invocation")]),t._v(" invocation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Throwable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" target "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" invocation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTarget")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Method")]),t._v(" method "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" invocation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMethod")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" invocation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getArgs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" invocation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("proceed")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ul",[s("li",[s("p",[t._v("getTarget ():")]),t._v(" "),s("p",[t._v("获取当前拦截的对象")])]),t._v(" "),s("li",[s("p",[t._v("getMethod()：")]),t._v(" "),s("p",[t._v("获取当前被拦截的方法")])]),t._v(" "),s("li",[s("p",[t._v("getArgs()：")]),t._v(" "),s("p",[t._v("可以返回被拦截方法中的参数")])]),t._v(" "),s("li",[s("p",[t._v("invocation.proceed()：")]),t._v(" "),s("p",[t._v("proceed() 方法实际上执行了method.invoke(target,args)方法，上面的代码中没有做任何处理，直接返回了结果")])])]),t._v(" "),s("h4",{attrs:{id:"_2-1-2-plugin-object-target"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2-plugin-object-target"}},[t._v("#")]),t._v(" 2.1.2 plugin(Object target)")]),t._v(" "),s("p",[t._v("这个方法的参数target 就是拦截器要拦截的对象，该方法会在创建被拦截的接口实现类时被调用。")]),t._v(" "),s("p",[t._v("听起来有点绕，其实现其实我们只需要调用mybatis 提供的 "),s("code",[t._v("Plugin.wrap(target, this)")]),t._v(" 静态方法就可以通过java的动态代理拦截目标对象")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("\t\t"),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("plugin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Plugin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wrap")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"_2-1-3-setproperties-properties-properties"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-3-setproperties-properties-properties"}},[t._v("#")]),t._v(" 2.1.3 setProperties(Properties properties)")]),t._v(" "),s("p",[t._v("传递插件的参数，可以通过参数来改变插件的行为")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("如何配置参数：")]),t._v(" "),s("p",[t._v("我们在配置拦截器的时候，就需要配置")]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[t._v("    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("plugins")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("plugin")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("interceptor")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("com.github.pagehelper.PageInterceptor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 支持通过Mapper接口参数来传递分页参数 --\x3e")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("helperDialect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("mysql"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("supportMethodsArguments"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("true"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("rowBoundsWithCount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("true"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("plugin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("plugins")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])])]),t._v(" "),s("h3",{attrs:{id:"_2-2-拦截器签名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-拦截器签名"}},[t._v("#")]),t._v(" 2.2 拦截器签名")]),t._v(" "),s("p",[s("code",[t._v("@Intercepts")]),t._v(" 和 注解签名 "),s("code",[t._v("@Signature")]),t._v(" 用来配置拦截器要拦截的接口的方法")]),t._v(" "),s("p",[s("code",[t._v("@Intercepts")]),t._v("  注解中的属性是一个 "),s("code",[t._v("@Signature")]),t._v("签名数组，可以在同一个拦截器中同时拦截不同的接口和方法")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20211023111853954.png",alt:"image-20211023111853954"}})]),t._v(" "),s("p",[s("code",[t._v("@Signature")]),t._v("  注解包含以下三个属性")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("type: 配置拦截器的接口，可选值是")]),t._v(" "),s("ul",[s("li",[t._v("Executor()")]),t._v(" "),s("li",[t._v("ParameterHandler()")]),t._v(" "),s("li",[t._v("ResultSetHandler()")]),t._v(" "),s("li",[t._v("StatementHandler()")])])]),t._v(" "),s("li",[s("p",[t._v("Method: 设置拦截器中的方法名，可选值是上面4个接口中对应的方法，需要和接口匹配")]),t._v(" "),s("p",[t._v("例如Executor 中能选query，update等")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20211023112540386.png",alt:"image-20211023112540386"}})])]),t._v(" "),s("li",[s("p",[t._v("args：设置拦截方法的参数类型数组，通过方法名和参数类型可以确定唯一一个方法")])])]),t._v(" "),s("h2",{attrs:{id:"_3-pagehelper源码实现"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-pagehelper源码实现"}},[t._v("#")]),t._v(" 3. PageHelper源码实现")]),t._v(" "),s("h3",{attrs:{id:"_3-1-拦截器与拦截器签名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-拦截器与拦截器签名"}},[t._v("#")]),t._v(" 3.1 拦截器与拦截器签名")]),t._v(" "),s("p",[t._v("这样我们就能拦截到sql 查询语句")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20211023164728249.png",alt:"image-20211023164728249"}})]),t._v(" "),s("h3",{attrs:{id:"_3-2-获取拦截参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-获取拦截参数"}},[t._v("#")]),t._v(" 3.2 获取拦截参数")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20211023164930142.png",alt:"image-20211023164930142"}})]),t._v(" "),s("h3",{attrs:{id:"_3-3-分页判断"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-分页判断"}},[t._v("#")]),t._v(" 3.3 分页判断")]),t._v(" "),s("ol",[s("li",[t._v("判断是否需要分页")]),t._v(" "),s("li",[t._v("判断是否需要进行count 查询\n"),s("ol",[s("li",[t._v("查询总数")])])]),t._v(" "),s("li",[t._v("分页查询")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20211023165357858.png",alt:"image-20211023165357858"}})]),t._v(" "),s("h3",{attrs:{id:"_3-4-计算总数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-计算总数"}},[t._v("#")]),t._v(" 3.4 计算总数")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20211023165640099.png",alt:"image-20211023165640099"}})]),t._v(" "),s("p",[t._v("计算总数实现")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20211023165903830.png",alt:"image-20211023165903830"}})]),t._v(" "),s("p",[t._v("获取方言count sql")]),t._v(" "),s("p",[t._v("此时还贴心的去除了order by")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20211023170153258.png",alt:"image-20211023170153258"}})]),t._v(" "),s("p",[t._v("获取普通的Count-sql")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20211023170559536.png",alt:"image-20211023170559536"}})]),t._v(" "),s("h3",{attrs:{id:"_3-5-分页查询"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-分页查询"}},[t._v("#")]),t._v(" 3.5 分页查询")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20211023170703110.png",alt:"image-20211023170703110"}})]),t._v(" "),s("ul",[s("li",[t._v("boundSql 包含了执行的sql 和对应的参数")])]),t._v(" "),s("p",[t._v("调用方言获取分页 sql")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20211023171056962.png",alt:"image-20211023171056962"}})]),t._v(" "),s("ol",[s("li",[s("code",[t._v("String sql = boundSql.getSql()")]),t._v(" 方言sql")]),t._v(" "),s("li",[t._v("其中"),s("code",[t._v("Page page = this.getLocalPage();")]),t._v(" 就是获得分页的参数")]),t._v(" "),s("li",[t._v("判断是否需要排序，添加orderby 语句")])]),t._v(" "),s("p",[t._v("获取分页的 getPageSql")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20211023171543077.png",alt:"image-20211023171543077"}})]),t._v(" "),s("p",[t._v("转换为分页语句")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20211023171621305.png",alt:"image-20211023171621305"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20211023171656921.png",alt:"image-20211023171656921"}})]),t._v(" "),s("h3",{attrs:{id:"_3-6-添加order-by-语句"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-添加order-by-语句"}},[t._v("#")]),t._v(" 3.6 添加order by 语句")]),t._v(" "),s("p",[t._v("在做分页查询的时候校验了是否需要order by 语句")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20211023171330695.png",alt:"image-20211023171330695"}})]),t._v(" "),s("p",[t._v("添加order 语句")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20211023171410950.png",alt:"image-20211023171410950"}})]),t._v(" "),s("h2",{attrs:{id:"_4-dialect-方言接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-dialect-方言接口"}},[t._v("#")]),t._v(" 4. Dialect 方言接口")]),t._v(" "),s("p",[t._v("Dialect 方言 包含了数据库支持的类型")]),t._v(" "),s("p",[t._v("我们可以看到几个关键节点上都调用了Dialect")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20211023173219075.png",alt:"image-20211023173219075"}})]),t._v(" "),s("h3",{attrs:{id:"_4-1-dialect-接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-dialect-接口"}},[t._v("#")]),t._v(" 4.1 dialect 接口")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20211023173328549.png",alt:"image-20211023173328549"}})]),t._v(" "),s("h3",{attrs:{id:"_4-2-dialect-实例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-dialect-实例"}},[t._v("#")]),t._v(" 4.2 dialect 实例")]),t._v(" "),s("h4",{attrs:{id:"_4-2-1-oracle-版本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-1-oracle-版本"}},[t._v("#")]),t._v(" 4.2.1 oracle 版本")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20211023173426394.png",alt:"image-20211023173426394"}})]),t._v(" "),s("h4",{attrs:{id:"_4-2-2-mysql版本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-2-mysql版本"}},[t._v("#")]),t._v(" 4.2.2 mysql版本")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20211023173527432.png",alt:"image-20211023173527432"}})])])}),[],!1,null,null,null);a.default=n.exports}}]);