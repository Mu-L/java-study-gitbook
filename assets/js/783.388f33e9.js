(window.webpackJsonp=window.webpackJsonp||[]).push([[783],{1160:function(t,a,n){"use strict";n.r(a);var s=n(26),r=Object(s.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"python爬取脉脉"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#python爬取脉脉"}},[t._v("#")]),t._v(" python爬取脉脉")]),t._v(" "),n("h2",{attrs:{id:"_1-简介"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-简介"}},[t._v("#")]),t._v(" 1. 简介")]),t._v(" "),n("p",[t._v("该项目主要是根据"),n("a",{attrs:{href:"https://github.com/Joezhangs/PythonSpider/tree/master/Item5%EF%BC%9Aspider_maimai",target:"_blank",rel:"noopener noreferrer"}},[t._v("github项目爬取脉脉网"),n("OutboundLink")],1),t._v(" 学习，并根据自己的业务需求改造")]),t._v(" "),n("h3",{attrs:{id:"_1-1-页面爬取的内容"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-页面爬取的内容"}},[t._v("#")]),t._v(" 1.1 页面爬取的内容")]),t._v(" "),n("blockquote",[n("p",[t._v("这是一个基于python3而写的爬虫，爬取的网站的脉脉网(https://maimai.cn/)，在搜索框中搜索“CHO”，并切换到“人脉”选项卡，点击姓名，进入详情页，爬取其详细信息")])]),t._v(" "),n("p",[n("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20210701215737588.png",alt:"image-20210701215737588"}})]),t._v(" "),n("h3",{attrs:{id:"_1-2-爬取的接口分析"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-爬取的接口分析"}},[t._v("#")]),t._v(" 1.2 爬取的接口分析")]),t._v(" "),n("div",{staticClass:"language-apl extra-class"},[n("pre",{pre:!0,attrs:{class:"language-apl"}},[n("code",[t._v("https"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[t._v("/")]),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[t._v("/")]),t._v("maimai"),n("span",{pre:!0,attrs:{class:"token dyadic-operator operator"}},[t._v(".")]),t._v("cn"),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[t._v("/")]),t._v("search"),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[t._v("/")]),t._v("contacts"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("?")]),t._v("count"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[t._v("&")]),t._v("page"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[t._v("&")]),t._v("query"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("=")]),t._v("Cho"),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[t._v("&")]),t._v("dist"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[t._v("&")]),t._v("searchTokens"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[t._v("&")]),t._v("highlight"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("=")]),t._v("true"),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[t._v("&")]),t._v("jsononly"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[t._v("&")]),t._v("pc"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n")])])]),n("p",[t._v("根据开发者模式下的接口信息可以看到")]),t._v(" "),n("p",[t._v("请求接口：https://maimai.cn/search/contacts")]),t._v(" "),n("p",[t._v("参数为")]),t._v(" "),n("ul",[n("li",[t._v("count：20\n"),n("ul",[n("li",[t._v("单次查询条数20条")])])]),t._v(" "),n("li",[t._v("page=0\n"),n("ul",[n("li",[t._v("当前页数，第0页")])])]),t._v(" "),n("li",[t._v("query=Cho\n"),n("ul",[n("li",[t._v("查询的关键词")])])]),t._v(" "),n("li",[t._v("dist=0")]),t._v(" "),n("li",[t._v("searchTokens=")]),t._v(" "),n("li",[t._v("highlight=true\n"),n("ul",[n("li",[t._v("是否高亮")])])]),t._v(" "),n("li",[t._v("jsononly=1\n"),n("ul",[n("li",[t._v("是否以json格式返回")])])]),t._v(" "),n("li",[t._v("pc=1\n"),n("ul",[n("li",[t._v("是否为电脑端数据")])])])]),t._v(" "),n("h3",{attrs:{id:"_1-3-接口返回结果分析"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-接口返回结果分析"}},[t._v("#")]),t._v(" 1.3 接口返回结果分析")]),t._v(" "),n("p",[t._v("该接口的返回结果为")]),t._v(" "),n("p",[n("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/blogimage-master/image-20210701221518719.png",alt:"image-20210701221518719"}})]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('{\n\t"result": "ok",\n\t"data": {\n\t\t"contacts": [{\n\t\t\t"uid": "a9f9b8c4-3c9d-46ac-b32e-0a1bfeefc2ea",\n\t\t\t"contact": {\n\t\t\t\t"id": "a9f9b8c4-3c9d-46ac-b32e-0a1bfeefc2ea",\n\t\t\t\t"name": "wing",\n\t\t\t\t"py": "wing",\n\t\t\t\t"avatar": "https://i9.taou.com/maimai/p/25657/400_42_2jgEOv22b8xMTrtp-a160",\n\t\t\t\t"line1": "法大大CHO",\n\t\t\t\t"line3": "法大大CHO(广东)",\n\t\t\t\t"line4": "IT互联网 | 高管, 影响力: 79",\n\t\t\t\t"rank": 79,\n\t\t\t\t"compos": "法大大CHO",\n\t\t\t\t"loc": "广东",\n\t\t\t\t"short_compos": "法大大CHO",\n\t\t\t\t"company": "法大大",\n\t\t\t\t"career": "法大大CHO",\n\t\t\t\t"gender": 2,\n\t\t\t\t"position": "CHO",\n\t\t\t\t"short_career": "法大大CHO",\n\t\t\t\t"mmid": "231791658",\n\t\t\t\t"status": 1,\n\t\t\t\t"province": "广东",\n\t\t\t\t"city": "深圳",\n\t\t\t\t"user_pfmj": {\n\t\t\t\t\t"major1": "0104",\n\t\t\t\t\t"profession1": "0108",\n\t\t\t\t\t"pf_path1": "01,0108",\n\t\t\t\t\t"pf_name1": "企业级软件",\n\t\t\t\t\t"mj_name1": "CEO/创始人/企业高管",\n\t\t\t\t\t"src_type": 3\n\t\t\t\t},\n\t\t\t\t\n\t\t\t}\n\t\t}],\n\t\t"contacts_total": 756,\n\t\t"searchTokens": ["cho", "hrvp"],\n\t\t"more": 746,\n        ...\n\t},\n\t"ab_conf": {\n\t},\n\t"env": {\n\t},\n\t"auth_info": {\n\t}\n}\n')])])]),n("p",[t._v("返回结果过多，此处只截取部分关键字段")]),t._v(" "),n("p",[t._v("我们需要的数据")]),t._v(" "),n("ul",[n("li",[t._v("用户结果列表：在data->contacts->contact 下")]),t._v(" "),n("li",[t._v('搜索的关键词："searchTokens": ["cho", "hrvp"],\n'),n("ul",[n("li",[t._v("这里并不一定只有你搜索的结果")])])])]),t._v(" "),n("h4",{attrs:{id:"_1-3-1-contact的数据结构分析"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-1-contact的数据结构分析"}},[t._v("#")]),t._v(" 1.3.1 "),n("strong",[t._v("contact")]),t._v("的数据结构分析")]),t._v(" "),n("ul",[n("li",[t._v('name: "wing"\n'),n("ul",[n("li",[t._v("用户名为wing")])])]),t._v(" "),n("li",[t._v('company: "法大大"\n'),n("ul",[n("li",[t._v("公司名：法大大")])])]),t._v(" "),n("li",[t._v('career: "法大大CHO"\n'),n("ul",[n("li",[t._v("职业：法大大CHO")])])]),t._v(" "),n("li")]),t._v(" "),n("h2",{attrs:{id:"参考文章"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考文章"}},[t._v("#")]),t._v(" 参考文章")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://github.com/Joezhangs/PythonSpider/tree/master/Item5%EF%BC%9Aspider_maimai",target:"_blank",rel:"noopener noreferrer"}},[t._v("爬取的网站的脉脉网"),n("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=r.exports}}]);