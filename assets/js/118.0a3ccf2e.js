(window.webpackJsonp=window.webpackJsonp||[]).push([[118],{493:function(s,a,t){"use strict";t.r(a);var e=t(26),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"linux-grep文本搜索"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux-grep文本搜索"}},[s._v("#")]),s._v(" Linux-grep文本搜索")]),s._v(" "),t("h2",{attrs:{id:"_1-简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-简介"}},[s._v("#")]),s._v(" 1 简介")]),s._v(" "),t("p",[s._v("Linux系统中grep命令是一种强大的"),t("strong",[s._v("文本搜索工具")]),s._v("，它能使用"),t("strong",[s._v("正则表达式搜索文本")]),s._v("，并把匹 "),t("strong",[s._v("配的行")]),s._v("打印出来。grep全称是Global Regular Expression Print，表示全局正则表达式版本，它的使用权限是所有用户。")]),s._v(" "),t("p",[s._v("grep的工作方式是这样的，它在一个或多个文件中搜索字符串模板。如果模板包括空格，则必须被引用，模板后的所有字符串被看作文件名。搜索的结果被送到标准输出，不影响原文件内容。")]),s._v(" "),t("p",[s._v("grep可用于shell脚本，因为grep通过返回一个状态值来说明搜索的状态，如果"),t("strong",[s._v("模板搜索成功，则返回0，如果搜索不成功，则返回1")]),s._v("，如果搜索的文件不存在，则返回2。我们利用这些返回值就可进行一些自动化的文本处理工作。")]),s._v(" "),t("h2",{attrs:{id:"_2-命令语法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-命令语法"}},[s._v("#")]),s._v(" 2 命令语法")]),s._v(" "),t("p",[s._v("用于过滤/搜索的特定字符。可使用正则表达式能多种命令配合使用，使用上十分灵活。")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("选项"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" pattern "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("文件名"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),t("h2",{attrs:{id:"_3-命令参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-命令参数"}},[s._v("#")]),s._v(" 3 命令参数")]),s._v(" "),t("p",[s._v("-? 同时显示匹配行上下的？行，如：grep -2 pattern filename 同时显示匹配行的上下2行。\n-b，—byte-offset 打印匹配行前面打印该行所在的块号码。\n-c,—count 只打印匹配的行数，不显示匹配的内容。\n-f File，—file=File 从文件中提取模板。空文件中包含0个模板，所以什么都不匹配。\n-h，—no-filename 当搜索多个文件时，不显示匹配文件名前缀。\n-i，—ignore-case 忽略大小写差别。\n-q，—quiet 取消显示，只返回退出状态。0则表示找到了匹配的行。\n-l，—files-with-matches 打印匹配模板的文件清单。\n-L，—files-without-match 打印不匹配模板的文件清单。\n-n，—line-number 在匹配的行前面打印行号。\n-s，—silent 不显示关于不存在或者无法读取文件的错误信息。\n-v，—revert-match 反检索，只显示不匹配的行。\n-w，—word-regexp 如果被<和>引用，就把表达式做为一个单词搜索。\n-V，—version 显示软件版本信息。")]),s._v(" "),t("h2",{attrs:{id:"_4-pattern-规则表达式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-pattern-规则表达式"}},[s._v("#")]),s._v(" 4 pattern 规则表达式")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v(". 匹配任意一个字符\n* 匹配0 个或多个*前的字符\n^ 匹配行开头\n$ 匹配行结尾\n[] 匹配[ ]中的任意一个字符，[]中可用 - 表示范围，\n例如[a-z]表示字母a 至z 中的任意一个\n\\ 转意字符\n")])])]),t("h2",{attrs:{id:"_5-实例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-实例"}},[s._v("#")]),s._v(" 5 实例")]),s._v(" "),t("p",[s._v("文件fruits.txt")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("i like apple\ni like pineapple\ni like Apple\ni like banana\ni like watermelon\n")])])]),t("h3",{attrs:{id:"_5-1-在文件中搜索模式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-在文件中搜索模式"}},[s._v("#")]),s._v(" 5.1 在文件中搜索模式")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 语法")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"search_pattern"')]),s._v(" path/to/file\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 示例(查看文件中带有apple的行)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" apple fruits.txt\n")])])]),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220412135702730.png",alt:"image-20220412135702730"}})]),s._v(" "),t("h3",{attrs:{id:"_5-2-or-条件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-or-条件"}},[s._v("#")]),s._v(" 5.2  or 条件")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 语法")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 方式一： -E (E需要大写)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -E "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'string1|string2'")]),s._v(" filename\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 方式二： egrep")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("egrep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'string1|string2'")]),s._v(" filename\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 示例")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -E "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'apple|banana'")]),s._v("  fruits.txt\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("egrep")]),s._v(" apple"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("banana'  fruits.txt\n")])])]),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220412135839507.png",alt:"image-20220412135839507"}})]),s._v(" "),t("h3",{attrs:{id:"_5-3-忽略大小写"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-忽略大小写"}},[s._v("#")]),s._v(" 5.3 忽略大小写")]),s._v(" "),t("p",[s._v("默认情况下，grep区分大小写，这意味着您必须精确搜索大写的字符串。通过使用-i开关告诉grep忽略大小写，可以避免这种情况。")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 语法")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -i string filename\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 示例")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -i apple fruits.txt\n")])])]),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220412140005854.png",alt:"image-20220412140005854"}})]),s._v(" "),t("h3",{attrs:{id:"_5-4-搜索精确的字符串-禁用正则表达式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-搜索精确的字符串-禁用正则表达式"}},[s._v("#")]),s._v(" 5.4 搜索精确的字符串 (禁用正则表达式):")]),s._v(" "),t("p",[s._v("在上面的示例中，每当我们在文档中搜索字符串“ apple”时，grep也会在输出中返回“ pineapple”。为了避免这种情况，并严格搜索“ apple”，可以使用以下命令：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 示例")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\<apple\\>"')]),s._v(" fruits.txt\n")])])]),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220412140216431.png",alt:"image-20220412140216431"}})]),s._v(" "),t("h3",{attrs:{id:"_5-5-带行号的grep"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-带行号的grep"}},[s._v("#")]),s._v(" 5.5 "),t("em",[t("strong",[s._v("带行号的Grep")])])]),s._v(" "),t("p",[s._v("要显示搜索字符串所在的行数，请使用-n开关。")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 语法")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -n string filename\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 示例")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -n  apple  fruits.txt\n")])])]),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220412140342553.png",alt:"image-20220412140342553"}})]),s._v(" "),t("h3",{attrs:{id:"_5-6-显示之前和之后的行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-6-显示之前和之后的行"}},[s._v("#")]),s._v(" 5.6 "),t("em",[t("strong",[s._v("显示之前和之后的行")])])]),s._v(" "),t("p",[s._v("如果需要更多grep输出上下文，可以使用-c开关在指定的搜索字符串前后显示一行：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 语法 大写的C")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -C "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" string filename\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 示例")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -C "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" banana fruits.txt\n")])])]),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220412140621158.png",alt:"image-20220412140621158"}})]),s._v(" "),t("h2",{attrs:{id:"_6-与其他命令配合使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-与其他命令配合使用"}},[s._v("#")]),s._v(" 6 与其他命令配合使用")]),s._v(" "),t("p",[s._v("Linux命令的输出通过管道传输到grep，grep就可以仅显示您需要查看的输出。")]),s._v(" "),t("h3",{attrs:{id:"_6-1-查找文件是否存在"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-查找文件是否存在"}},[s._v("#")]),s._v(" 6.1 查找文件是否存在")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查找当前目录 .sh结尾的文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" .sh\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查找当前目录 xx.sh结尾的文件，返回空则证明文件不存在")]),s._v("\nbin "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" xx.sh\n")])])]),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220412151129285.png",alt:"image-20220412151129285"}})])])}),[],!1,null,null,null);a.default=n.exports}}]);