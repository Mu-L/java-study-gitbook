(window.webpackJsonp=window.webpackJsonp||[]).push([[128],{510:function(t,a,s){"use strict";s.r(a);var _=s(26),e=Object(_.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"linux磁盘监控"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#linux磁盘监控"}},[t._v("#")]),t._v(" Linux磁盘监控")]),t._v(" "),s("h2",{attrs:{id:"_1-简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-简介"}},[t._v("#")]),t._v(" 1. 简介")]),t._v(" "),s("p",[t._v("linux磁盘监控命令主要有，df，iostat,iotop")]),t._v(" "),s("h2",{attrs:{id:"_2-监控命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-监控命令"}},[t._v("#")]),t._v(" 2. 监控命令")]),t._v(" "),s("h3",{attrs:{id:"_2-1-df"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-df"}},[t._v("#")]),t._v(" 2.1 df")]),t._v(" "),s("h4",{attrs:{id:"_2-1-1-简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-简介"}},[t._v("#")]),t._v(" 2.1.1 简介")]),t._v(" "),s("p",[t._v("df命令 用于显示磁盘分区上的可使用的磁盘空间。如果没有文件名被指定，则显示当前所有被挂载的文件系统，默认以 KB 为单位。")]),t._v(" "),s("h4",{attrs:{id:"_2-1-2-语法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2-语法"}},[t._v("#")]),t._v(" 2.1.2 语法：")]),t._v(" "),s("div",{staticClass:"language-erlang extra-class"},[s("pre",{pre:!0,attrs:{class:"language-erlang"}},[s("code",[s("span",{pre:!0,attrs:{class:"token atom"}},[t._v("df")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("选项"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("参数"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("选项：\n"),s("code",[t._v("-a")]),t._v(" 全部文件系统列表\n"),s("code",[t._v("-h")]),t._v(" 以方便阅读的方式显示\n"),s("code",[t._v("-i")]),t._v(" 显示inode信息\n"),s("code",[t._v("-T")]),t._v(" 显示文件系统类型\n"),s("code",[t._v("-l")]),t._v(" 只显示本地文件系统\n"),s("code",[t._v("-k")]),t._v(" 以KB为单位\n"),s("code",[t._v("-m")]),t._v(" 以MB为单位")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("文件：指定文件系统上的文件。")])]),t._v(" "),s("h4",{attrs:{id:"_2-1-3-示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-3-示例"}},[t._v("#")]),t._v(" 2.1.3 示例")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220401145602336.png",alt:"image-20220401145602336"}})]),t._v(" "),s("h4",{attrs:{id:"_2-1-4-tldr-中的介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-4-tldr-中的介绍"}},[t._v("#")]),t._v(" 2.1.4 tldr 中的介绍")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("df")]),t._v("\n\n  Gives an overview of the filesystem disk space usage.\n  概述了文件系统磁盘空间的使用情况。\n  More information: https://www.gnu.org/software/coreutils/df.\n\n  - Display all filesystems and their disk usage:\n  \t显示所有文件系统及其磁盘使用情况:\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("df")]),t._v("\n\n  - Display all filesystems and their disk usage "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" human readable form:\n  \t以人类可读的形式显示所有文件系统及其磁盘使用情况:\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("df")]),t._v(" -h\n\n  - Display the filesystem and its disk usage containing the given "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" or directory:\n  \t显示包含指定文件或目录的文件系统及其磁盘使用情况:\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("df")]),t._v(" path/to/file_or_directory\n\n  - Display statistics on the number of "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("free")]),t._v(" inodes:\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("df")]),t._v(" -i\n\n  - Display filesystems but exclude the specified types:\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("df")]),t._v(" -x squashfs -x tmpfs\n")])])]),s("h3",{attrs:{id:"_2-2-iostat"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-iostat"}},[t._v("#")]),t._v(" 2.2 iostat")]),t._v(" "),s("h4",{attrs:{id:"_2-2-1-简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-1-简介"}},[t._v("#")]),t._v(" 2.2.1 简介")]),t._v(" "),s("p",[t._v("iostat命令 被用于监视系统输入输出设备和CPU的使用情况。")]),t._v(" "),s("h4",{attrs:{id:"_2-2-2-语法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-2-语法"}},[t._v("#")]),t._v(" 2.2.2 语法：")]),t._v(" "),s("div",{staticClass:"language-erlang extra-class"},[s("pre",{pre:!0,attrs:{class:"language-erlang"}},[s("code",[s("span",{pre:!0,attrs:{class:"token atom"}},[t._v("iostat")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("选项"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("参数"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("选项：\n"),s("code",[t._v("-c")]),t._v("：仅显示CPU使用情况；\n"),s("code",[t._v("-d")]),t._v("：仅显示设备利用率；\n"),s("code",[t._v("-k")]),t._v("：显示状态以千字节每秒为单位，而不使用块每秒；\n"),s("code",[t._v("-m")]),t._v("：显示状态以兆字节每秒为单位；\n"),s("code",[t._v("-p")]),t._v("：仅显示块设备和所有被使用的其他分区的状态；\n"),s("code",[t._v("-t")]),t._v("：显示每个报告产生时的时间；\n"),s("code",[t._v("-V")]),t._v("：显示版号并退出；\n"),s("code",[t._v("-x")]),t._v("：显示扩展状态。")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("间隔时间：每次报告的间隔时间（秒）；")]),t._v(" "),s("li",[t._v("次数：显示报告的次数。")])]),t._v(" "),s("h4",{attrs:{id:"_2-2-3-字段说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-3-字段说明"}},[t._v("#")]),t._v(" 2.2.3 字段说明：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("r/s")]),t._v(": 每秒完成的读 I/O 设备次数。")]),t._v(" "),s("li",[s("code",[t._v("w/s")]),t._v(": 每秒完成的写 I/O 设备次数。")]),t._v(" "),s("li",[s("code",[t._v("rkB/s")]),t._v(": 每秒读K字节数.是 rsect/s 的一半,因为每扇区大小为512字节。")]),t._v(" "),s("li",[s("code",[t._v("wkB/s")]),t._v(": 每秒写K字节数.是 wsect/s 的一半。")]),t._v(" "),s("li",[s("code",[t._v("avgrq-sz")]),t._v(": 平均每次设备I/O操作的数据大小 (扇区)。")]),t._v(" "),s("li",[s("code",[t._v("avgqu-sz")]),t._v(": 平均I/O队列长度。")]),t._v(" "),s("li",[s("code",[t._v("await")]),t._v(": 平均每次设备I/O操作的等待时间 (毫秒)。")]),t._v(" "),s("li",[s("code",[t._v("svctm")]),t._v(": 平均每次设备I/O操作的服务时间 (毫秒)。")]),t._v(" "),s("li",[s("code",[t._v("%util")]),t._v(": 一秒中有百分之多少的时间用于 I/O 操作,或者说一秒中有多少时间 I/O 队列是非空的。")])]),t._v(" "),s("h4",{attrs:{id:"_2-2-4-示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-4-示例"}},[t._v("#")]),t._v(" 2.2.4 示例")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220401145950590.png",alt:"image-20220401145950590"}})]),t._v(" "),s("h3",{attrs:{id:"_2-3-iotop"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-iotop"}},[t._v("#")]),t._v(" 2.3 . iotop")]),t._v(" "),s("blockquote",[s("p",[t._v("centos没有该命名")])]),t._v(" "),s("h4",{attrs:{id:"_2-3-1-简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-1-简介"}},[t._v("#")]),t._v(" 2.3.1 简介")]),t._v(" "),s("p",[t._v("iotop命令 是一个用来监视磁盘I/O使用状况的top类工具。")]),t._v(" "),s("p",[t._v("iotop具有与top相似的UI，其中包括PID、用户、I/O、进程等相关信息。Linux下的IO统计工具如iostat，nmon等大多数是只能统计到per设备的读写情况，如果你想知道每个进程是如何使用IO的就比较麻烦，使用iotop命令可以很方便的查看。")]),t._v(" "),s("h4",{attrs:{id:"_2-3-2-语法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-2-语法"}},[t._v("#")]),t._v(" 2.3.2 语法：")]),t._v(" "),s("div",{staticClass:"language-erlang extra-class"},[s("pre",{pre:!0,attrs:{class:"language-erlang"}},[s("code",[s("span",{pre:!0,attrs:{class:"token atom"}},[t._v("iotop")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("选项"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("选项：\n"),s("code",[t._v("-o")]),t._v("：只显示有io操作的进程\n"),s("code",[t._v("-b")]),t._v("：批量显示，无交互，主要用作记录到文件。\n"),s("code",[t._v("-n")]),t._v("： NUM：显示NUM次，主要用于非交互式模式。\n"),s("code",[t._v("-d SEC")]),t._v("：间隔SEC秒显示一次。\n"),s("code",[t._v("-p PID")]),t._v("：监控的进程pid。\n"),s("code",[t._v("-u USER")]),t._v("：监控的进程用户。")]),t._v(" "),s("h4",{attrs:{id:"_2-3-3-iotop常用快捷键"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-3-iotop常用快捷键"}},[t._v("#")]),t._v(" 2.3.3 iotop常用快捷键：")]),t._v(" "),s("ul",[s("li",[t._v("左右箭头：改变排序方式，默认是按IO排序。")]),t._v(" "),s("li",[t._v("r：改变排序顺序。")]),t._v(" "),s("li",[t._v("o：只显示有IO输出的进程。")]),t._v(" "),s("li",[t._v("p：进程/线程的显示方式的切换。")]),t._v(" "),s("li",[t._v("a：显示累积使用量。")]),t._v(" "),s("li",[t._v("q：退出。")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220401150415728.png",alt:"image-20220401150415728"}})])])}),[],!1,null,null,null);a.default=e.exports}}]);