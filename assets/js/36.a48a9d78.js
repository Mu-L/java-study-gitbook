(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{413:function(a,s,t){"use strict";t.r(s);var e=t(26),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"java编译"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#java编译"}},[a._v("#")]),a._v(" Java编译")]),a._v(" "),t("h2",{attrs:{id:"_1-简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-简介"}},[a._v("#")]),a._v(" 1. 简介")]),a._v(" "),t("p",[a._v("IDE或maven等工具已将Java程序的编译代劳。但工具越高级，隐藏的细节就越多，一旦出现问题就懵逼，归根到底还是基础概念不牢靠。返璞归真，回到最原始的地方"),t("code",[a._v("javac")]),a._v("，会让问题豁然开朗。下面就一步一步演示用"),t("code",[a._v("javac")]),a._v("和"),t("code",[a._v("java")]),a._v("徒手编译运行一个常规工程。")]),a._v(" "),t("h2",{attrs:{id:"_2-hello-world练个手"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-hello-world练个手"}},[a._v("#")]),a._v(" 2. Hello World练个手")]),a._v(" "),t("p",[a._v("来个简单的先，我们祭出祖传的HelloWorld程序。（感兴趣的话，可以试一试徒手是否写的出来~）")]),a._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("HelloWorld")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("static")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("main")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" args"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Hello, World!"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("p",[a._v("写完后，保存为："),t("code",[a._v("HelloWorld.java")]),a._v("，然后在当前目录执行"),t("code",[a._v("javac")]),a._v("编译命令：")]),a._v(" "),t("div",{staticClass:"language-text extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("javac HelloWorld.java\n")])])]),t("p",[a._v("查看"),t("strong",[a._v("当前目录")]),a._v("（更准确的说是java文件同级目录），果然生成了"),t("code",[a._v("HelloWorld.class")]),a._v("：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" ➜  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v("\nHelloWorld.class HelloWorld.java\n")])])]),t("p",[a._v("继续在"),t("strong",[a._v("当前目录运行")]),t("code",[a._v("java")]),a._v("命令，正确打印出Hello, World!")]),a._v(" "),t("div",{staticClass:"language-text extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("maoshuai@ms:~/javaLinux/w1$ java HelloWorld \nHello, World!\n")])])]),t("p",[a._v("老司机，稳！看起来很简单嘛：先"),t("code",[a._v("javac")]),a._v("再"),t("code",[a._v("java")]),a._v("。")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220428163059164.png",alt:"image-20220428163059164"}})]),a._v(" "),t("h3",{attrs:{id:"_2-1-容易犯的错"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-容易犯的错"}},[a._v("#")]),a._v(" 2.1 容易犯的错")]),a._v(" "),t("ul",[t("li",[a._v("执行class 或.java 文件")])]),a._v(" "),t("p",[a._v("虽然简单，但新手通常会犯的一个错：想象成去"),t("strong",[a._v("执行")]),t("code",[a._v(".class")]),a._v("文件，比如写成这样，自然会报错：")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220428163045920.png",alt:"image-20220428163045920"}})]),a._v(" "),t("h2",{attrs:{id:"_3-带包名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-带包名"}},[a._v("#")]),a._v(" 3. 带包名")]),a._v(" "),t("p",[a._v("一切都很顺利，但没有包名是不专业的，所以我们加一个牛逼的包"),t("code",[a._v("package com.zszdevelop;")]),a._v("：")]),a._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("package")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("com"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("zszdevelop")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("HelloWorld")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("static")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("main")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" args"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Hello, World!"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("p",[a._v("还是一样用"),t("code",[a._v("javac")]),a._v("编译，查看"),t("strong",[a._v("当前目录")]),a._v("下"),t("code",[a._v("HelloWorld.class")]),a._v("生成了，很顺利。")]),a._v(" "),t("p",[a._v("还是一样用"),t("code",[a._v("java")]),a._v("命令，瞬间被打脸：")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220428163506356.png",alt:"image-20220428163506356"}})]),a._v(" "),t("p",[a._v("想了想，"),t("strong",[a._v("HelloWorld已经有自己的包名了，所以它的名字不在是没有姓氏")]),a._v("的"),t("code",[a._v("HelloWorld")]),a._v("，新名字叫"),t("code",[a._v("com.zszdevelop.HelloWorld")]),a._v("，那么传给"),t("code",[a._v("java")]),a._v("自然要用新名字，再试一试：")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220428163605539.png",alt:"image-20220428163605539"}})]),a._v(" "),t("p",[a._v("还是被打脸，这时候老司机告诉你，创建一个"),t("code",[a._v("com.zszdevelop")]),a._v("目录，然后把"),t("code",[a._v("HelloWorld.class")]),a._v("放进来，执行：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" ➜  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" -p com/zszdevelop\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" ➜  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" HelloWorld.class com/zszdevelop\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" ➜  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v("\nHelloWorld.java com\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" ➜  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" java com.zszdevelop.HelloWorld\nHello, World"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n")])])]),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220428163804684.png",alt:"image-20220428163804684"}})]),a._v(" "),t("p",[a._v("果然，正常打印出了Hello, World!")]),a._v(" "),t("p",[t("strong",[a._v("上面的步骤，说明了两点：")])]),a._v(" "),t("ol",[t("li",[a._v("增加了package名，所以class名也变了，行不改名坐不改姓，自然要带上姓（即所谓全限定名）。")]),a._v(" "),t("li",[a._v("Java "),t("strong",[a._v("会根据包名对应出目录结构，并从class path搜索该目录去找class文件")]),a._v("。由于默认的class path是当前目录，所以"),t("code",[a._v("com.zszdevelop.HelloWorld")]),a._v("必须存储在"),t("code",[a._v("./com/zszdevelop/HelloWorld.class")])])]),a._v(" "),t("p",[a._v("当然每次自己创建包路径的目录太麻烦。"),t("strong",[t("code",[a._v("-d")]),a._v("参数可以代劳上面的工作")]),a._v("：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" ➜  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" javac -d "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v(" HelloWorld.java\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" ➜  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v("\nHelloWorld.java com\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" ➜  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" java com.zszdevelop.HelloWorld\nHello, World"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n")])])]),t("p",[t("code",[a._v("-d")]),a._v("指定了生成class文件的根目录（这里用的是当前目录），并且会根据class的包路径创建子目录。")]),a._v(" "),t("h2",{attrs:{id:"_4-编译两个有依赖关系的class"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-编译两个有依赖关系的class"}},[a._v("#")]),a._v(" 4. 编译两个有依赖关系的class")]),a._v(" "),t("p",[a._v("包名解决了，我们再复杂些，搞个依赖调用。首先，我们抽取一个"),t("code",[a._v("HelloService")]),a._v("：")]),a._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("package")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("com"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("zszdevelop")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("HelloService")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("printHello")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"HelloService, "')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+")]),a._v(" name "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"!"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("p",[a._v("然后修改"),t("code",[a._v("HelloWorld.java")]),a._v("，调用"),t("code",[a._v("HelloService")]),a._v("完成say hello：")]),a._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("package")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("com"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("zszdevelop")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("HelloWorld")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("static")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("main")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" args"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("HelloService")]),a._v(" service "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("HelloService")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        service"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("printHello")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"World"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("p",[a._v("接着我们依次编译："),t("code",[a._v("HelloService.java")]),a._v("和"),t("code",[a._v("HelloWorld.java")]),a._v("，最后运行：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" ➜  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" javac -d "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v(" HelloService.java\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" ➜  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" javac -d "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v(" HelloWorld.java\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" ➜  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v("\nHelloService.java HelloWorld.java   com\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" ➜  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" java com.zszdevelop.HelloWorld\nHelloService, World"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n")])])]),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220428164924047.png",alt:"image-20220428164924047"}})]),a._v(" "),t("p",[a._v("直觉上，要先编译"),t("code",[a._v("HelloService.java")]),a._v("，这是对的。那如果先编译"),t("code",[a._v("HelloWorld.java")]),a._v("呢？当然是打脸：")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220428164950212.png",alt:"image-20220428164950212"}})]),a._v(" "),t("p",[a._v("如果编译的时候，还要根据依赖关系确定顺序，太low了吧。我觉得"),t("code",[a._v("java")]),a._v("命令应该能自动解决它，一次性将两个java文件传给它试一试：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" ➜  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" javac -d "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v(" HelloWorld.java HelloService.java\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" ➜  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" LS\nHelloService.java\tHelloWorld.java\t\tcom\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" ➜  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" java com.zszdevelop.HelloWorld\nHelloService, World"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n")])])]),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220428165035879.png",alt:"image-20220428165035879"}})]),a._v(" "),t("p",[a._v("牛逼，它自动解决了顺序问题，赞一个（虽然我不怀好意的将"),t("code",[a._v("HelloWorld.java")]),a._v("放到了前面）！")]),a._v(" "),t("h2",{attrs:{id:"_5-使用src和target目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-使用src和target目录"}},[a._v("#")]),a._v(" 5. 使用src和target目录")]),a._v(" "),t("p",[a._v("从上面的例子可以看出，虽然class文件必须放在包名一致的目录里，"),t("strong",[a._v("但java源文件并没有这个要求")]),a._v("。不过，为了管理方便，我们将java源文件也放在包结构目录里：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" ➜  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" -p com/zszdevelop\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" ➜  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" *.java com/zszdevelop/\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" ➜  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v(" com/zszdevelop/\nHelloService.java HelloWorld.java\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" ➜  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v("  javac -d "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v(" com/zszdevelop/*.java\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" ➜  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v(" com/zszdevelop/\nHelloService.class HelloService.java  HelloWorld.class   HelloWorld.java\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" ➜  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" java com.zszdevelop.HelloWorld\nHelloService, World"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n")])])]),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220428165610980.png",alt:"image-20220428165610980"}})]),a._v(" "),t("p",[a._v("编译时"),t("code",[a._v("javac")]),a._v("要传入新的java文件路径（这里用了通配符），其他也没有什么不同。可以看到"),t("strong",[a._v("class文件生成到了与java文件相同的目录里")]),a._v("。class文件和java源文件放在一起，很不清爽，能否像IDE里那样：java文件放到src目录，class文件放到target目录？下面我试一试。")]),a._v(" "),t("p",[a._v("先创建src和target目录，并将原来的java文件都移动到src目录：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" ➜  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" src\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" ➜  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" target\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" ➜  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" com src\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" ➜  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v("\nsrc    target\n")])])]),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220428165943655.png",alt:"image-20220428165943655"}})]),a._v(" "),t("p",[a._v("然后编译，"),t("code",[a._v("-d")]),a._v("参数指定到target目录：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" ➜  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" javac -d target src/com/zszdevelop/*.java\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" ➜  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v(" target/com/zszdevelop/\nHelloService.class HelloWorld.class\n")])])]),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220428170120215.png",alt:"image-20220428170120215"}})]),a._v(" "),t("p",[a._v("怎么运行呢？直接在当前目录运行是不行了，毕竟多了一层target目录，进入target目录运行，妥妥的：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("(base) ➜  test cd target\n(base) ➜  target java com.zszdevelop.HelloWorld\nHelloService, World!\n")])])]),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220428170206636.png",alt:"image-20220428170206636"}})]),a._v(" "),t("p",[a._v("除了进入"),t("code",[a._v("target")]),a._v("目录以外，更常用的方法是通过"),t("code",[a._v("-classpath")]),a._v("（或简写为"),t("code",[a._v("-cp")]),a._v("）选项设置"),t("strong",[a._v("类路径")]),a._v("：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("base"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" ➜  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" java -cp target com.zszdevelop.HelloWorld\nHelloService, World"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n")])])]),t("p",[t("img",{attrs:{src:"https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220428170320183.png",alt:"image-20220428170320183"}})]),a._v(" "),t("h2",{attrs:{id:"_6-类路径classpath"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-类路径classpath"}},[a._v("#")]),a._v(" 6. 类路径CLASSPATH")]),a._v(" "),t("p",[a._v("上面演示了通过"),t("code",[a._v("-cp")]),a._v("设置类路径。下面再进一步研究一下类路径。")]),a._v(" "),t("p",[a._v("类路径，是JRE搜索用户级class文件或其他资源的路径，"),t("code",[a._v("javac")]),a._v("或"),t("code",[a._v("java")]),a._v("等工具都可以指定类路径。如果没有设置，默认的类路径就是当前目录。"),t("strong",[a._v("但如果设置了类路径，默认值就被覆盖了，所以如果想保留当前目录为类路径，需要同时将"),t("code",[a._v(".")]),a._v("加入")]),a._v("，有点像默认构造函数的感觉。")]),a._v(" "),t("p",[a._v("类路径，可以通过环境变量"),t("code",[a._v("CLASSPATH")]),a._v("或"),t("code",[a._v("-cp")]),a._v("参数设置，后者会覆盖前者。推荐通过"),t("code",[a._v("-cp")]),a._v("设置，它只会影响当前进程。")]),a._v(" "),t("p",[a._v("类路径类似操作系统里的"),t("code",[a._v("path")]),a._v("概念，不过它是java工具搜索class文件的路径。同样的，类路径可以是多个，并通过分号分隔：")]),a._v(" "),t("div",{staticClass:"language-text extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("export CLASSPATH=path1:path2:...\n")])])]),t("p",[a._v("或者：")]),a._v(" "),t("div",{staticClass:"language-text extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("sdkTool -classpath path1:path2:...\n")])])]),t("p",[a._v("sdkTool可以是 java, javac, javadoc等。")]),a._v(" "),t("p",[a._v("类路径不仅可以是目录，还也可以是jar包或zip包。")]),a._v(" "),t("p",[a._v("类路径的设置是有顺序的，java会优先在靠前的类路径里搜索。这一点和操作系统的"),t("code",[a._v("path")]),a._v("类似。")]),a._v(" "),t("p",[a._v("类路径可以用通配符"),t("code",[a._v("*")]),a._v("匹配jar或zip，但：")]),a._v(" "),t("ol",[t("li",[a._v("通配符只匹配jar或zip，比如path/*只是将下面的jar或zip加入类路径，但path本身不加入类路径。")]),a._v(" "),t("li",[a._v("通配符不递归搜索，即指匹配第一层目录下的jar或zip。")]),a._v(" "),t("li",[a._v("通配符匹配到的jar或zip，加入到classpath的顺序是不确定的。因此，更稳妥的做法是显示的枚举所有jar或zip。")]),a._v(" "),t("li",[a._v("通配符适用于"),t("code",[a._v("CLASSPATH")]),a._v("变量或"),t("code",[a._v("-cp")]),a._v("参数，但不适用于jar包的manifest文件。")])]),a._v(" "),t("h2",{attrs:{id:"_7-javac"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-javac"}},[a._v("#")]),a._v(" 7.  Javac")]),a._v(" "),t("p",[a._v("javac的语法如下：")]),a._v(" "),t("div",{staticClass:"language-text extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("javac [ options ] [ sourcefiles ] [ classes] [ @argfiles ]\n")])])]),t("ul",[t("li",[a._v("options：是一些参数，比如-cp，-d")]),a._v(" "),t("li",[a._v("sourcefiles：就是编译的java文件，如"),t("code",[a._v("HelloWorld.java")]),a._v("，可以是多个，并用空格隔开")]),a._v(" "),t("li",[a._v("classes：用来处理处理注解。暂时没搞懂怎么用")]),a._v(" "),t("li",[a._v("@argfiles，就是包含option或java文件列表的文件路径，用@符号开头，就像上面的@javaOptions.txt和@javaFiles.txt")])]),a._v(" "),t("h2",{attrs:{id:"参考文章"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考文章"}},[a._v("#")]),a._v(" 参考文章")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/74229762",target:"_blank",rel:"noopener noreferrer"}},[a._v("第1期：抛开IDE，了解一下javac如何编译"),t("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=n.exports}}]);