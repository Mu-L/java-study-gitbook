import { r as resolveComponent, o as openBlock, c as createElementBlock, a as createBaseVNode, b as createVNode, e as createStaticVNode, d as createTextVNode } from "./app.dd6287fd.js";
import { _ as _export_sfc } from "./plugin-vue_export-helper.21dcd24c.js";
const _sfc_main = {};
const _hoisted_1 = /* @__PURE__ */ createStaticVNode('<h1 id="docker\u57FA\u7840-\u4ED3\u5E93-\u955C\u50CF-\u5BB9\u5668\u8BE6\u89E3" tabindex="-1"><a class="header-anchor" href="#docker\u57FA\u7840-\u4ED3\u5E93-\u955C\u50CF-\u5BB9\u5668\u8BE6\u89E3" aria-hidden="true">#</a> Docker\u57FA\u7840-\u4ED3\u5E93\uFF0C\u955C\u50CF\uFF0C\u5BB9\u5668\u8BE6\u89E3</h1><h2 id="_1-\u4ED3\u5E93-\u955C\u50CF-\u5BB9\u5668\u7684\u5173\u7CFB" tabindex="-1"><a class="header-anchor" href="#_1-\u4ED3\u5E93-\u955C\u50CF-\u5BB9\u5668\u7684\u5173\u7CFB" aria-hidden="true">#</a> 1. \u4ED3\u5E93\uFF0C\u955C\u50CF\uFF0C\u5BB9\u5668\u7684\u5173\u7CFB</h2><blockquote><p>\u6211\u4EEC\u518D\u56DE\u987E\u4E0B\u4ED3\u5E93\uFF0C\u955C\u50CF\uFF0C\u5BB9\u5668\u7684\u5173\u7CFB\uFF08\u8FD9\u662F\u5B98\u7F51\u7684\u56FE\uFF09</p></blockquote><p>\u901A\u8FC7\u4E0B\u56FE\u53EF\u4EE5\u5F97\u77E5\uFF0C<code>Docker</code>\u5728\u8FD0\u884C\u65F6\u5206\u4E3A<code>Docker\u5F15\u64CE\uFF08\u670D\u52A1\u7AEF\u5B88\u62A4\u8FDB\u7A0B\uFF09</code>\u548C<code>\u5BA2\u6237\u7AEF\u5DE5\u5177</code>\uFF0C\u6211\u4EEC\u65E5\u5E38\u4F7F\u7528\u5404\u79CD<code>docker\u547D\u4EE4</code>\uFF0C\u5176\u5B9E\u5C31\u662F\u5728\u4F7F\u7528<code>\u5BA2\u6237\u7AEF\u5DE5\u5177</code>\u4E0E<code>Docker</code>\u5F15\u64CE\u8FDB\u884C\u4EA4\u4E92\u3002</p><p><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220613201437616.png" alt="image-20220613201437616"></p><h2 id="_2-docker-\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#_2-docker-\u955C\u50CF" aria-hidden="true">#</a> 2. Docker \u955C\u50CF</h2><p>\u5F53\u8FD0\u884C\u5BB9\u5668\u65F6\uFF0C\u4F7F\u7528\u7684\u955C\u50CF\u5982\u679C\u5728\u672C\u5730\u4E2D\u4E0D\u5B58\u5728\uFF0Cdocker \u5C31\u4F1A\u81EA\u52A8\u4ECE docker \u955C\u50CF\u4ED3\u5E93\u4E2D\u4E0B\u8F7D\uFF0C\u9ED8\u8BA4\u662F\u4ECE Docker Hub \u516C\u5171\u955C\u50CF\u6E90\u4E0B\u8F7D\u3002</p><p>\u4E0B\u9762\u6211\u4EEC\u6765\u5B66 1\u3001\u7BA1\u7406\u548C\u4F7F\u7528\u672C\u5730 Docker \u4E3B\u673A\u955C\u50CF 2\u3001\u521B\u5EFA\u955C\u50CF</p><h3 id="_2-1-\u955C\u50CF\u5217\u8868" tabindex="-1"><a class="header-anchor" href="#_2-1-\u955C\u50CF\u5217\u8868" aria-hidden="true">#</a> 2.1 \u955C\u50CF\u5217\u8868</h3><p>\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528 docker images \u6765\u5217\u51FA\u672C\u5730\u4E3B\u673A\u4E0A\u7684\u955C\u50CF</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@iZwz914d1peizv4h7laju4Z ~<span class="token punctuation">]</span><span class="token comment"># docker images</span>\nREPOSITORY        TAG            IMAGE ID       CREATED        SIZE\nminio/minio       latest         1afc478341fd   <span class="token number">8</span> months ago   254MB\nrabbitmq          <span class="token number">3</span>-management   3e83da0dc938   <span class="token number">9</span> months ago   253MB\nmongo             latest         0bcbeb494bed   <span class="token number">9</span> months ago   684MB\n\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th style="text-align:left;">\u5C5E\u6027</th><th style="text-align:left;">\u8BF4\u660E</th></tr></thead><tbody><tr><td style="text-align:left;">REPOSITORY</td><td style="text-align:left;">\u955C\u50CF\u5728\u4ED3\u5E93\u4E2D\u7684\u540D\u79F0</td></tr><tr><td style="text-align:left;">TAG</td><td style="text-align:left;">\u955C\u50CF\u6807\u7B7E</td></tr><tr><td style="text-align:left;">IMAGE ID</td><td style="text-align:left;">\u955C\u50CF ID</td></tr><tr><td style="text-align:left;">CREATED</td><td style="text-align:left;">\u955C\u50CF\u7684\u521B\u5EFA\u65E5\u671F</td></tr><tr><td style="text-align:left;">SIZE</td><td style="text-align:left;">\u955C\u50CF\u5927\u5C0F</td></tr></tbody></table><p>\u8FD9\u4E9B\u955C\u50CF\u90FD\u662F\u5B58\u50A8\u5728<code>Docker</code>\u5BBF\u4E3B\u673A\u7684<code>/var/lib/docker</code>\u76EE\u5F55\u4E0B</p><h3 id="_2-2-\u67E5\u627E\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#_2-2-\u67E5\u627E\u955C\u50CF" aria-hidden="true">#</a> 2.2 \u67E5\u627E\u955C\u50CF</h3><blockquote><p>\u4EE5\u67E5\u627EMySQL\u7684\u955C\u50CF\u4E3A\u4F8B\uFF1A</p></blockquote>', 15);
const _hoisted_16 = /* @__PURE__ */ createTextVNode("\u65B9\u5F0F\u4E00\uFF1A");
const _hoisted_17 = /* @__PURE__ */ createBaseVNode("strong", null, "\u901A\u8FC7Docker Hub \u8FDB\u884C\u67E5\u627E", -1);
const _hoisted_18 = /* @__PURE__ */ createTextVNode(", \u6BD4\u5982");
const _hoisted_19 = {
  href: "https://hub.docker.com/search?q=mysql&type=image",
  target: "_blank",
  rel: "noopener noreferrer"
};
const _hoisted_20 = /* @__PURE__ */ createTextVNode("https://hub.docker.com/search?q=mysql&type=image (opens new window)");
const _hoisted_21 = /* @__PURE__ */ createStaticVNode('<p><img src="https://zszblog.oss-cn-beijing.aliyuncs.com/zszblog/image-20220613202907992.png" alt="image-20220613202907992"></p><ul><li><p>\u65B9\u5F0F\u4E8C\uFF1A<strong>\u4F7F\u7528 docker search \u547D\u4EE4\u6765\u641C\u7D22\u955C\u50CF</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker ps</span>\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n<span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker search mysql</span>\nNAME                              DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED\nmysql                             MySQL is a widely used, open-source relation\u2026   <span class="token number">9132</span>                <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>\nmariadb                           MariaDB is a community-developed fork of MyS\u2026   <span class="token number">3233</span>                <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>\nmysql/mysql-server                Optimized MySQL Server Docker images. Create\u2026   <span class="token number">676</span>                                     <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>\ncentos/mysql-57-centos7           MySQL <span class="token number">5.7</span> SQL database server                   <span class="token number">68</span>\nmysql/mysql-cluster               Experimental MySQL Cluster Docker images. Cr\u2026   <span class="token number">62</span>\ncenturylink/mysql                 Image containing mysql. Optimized to be link\u2026   <span class="token number">61</span>                                      <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>\ndeitch/mysql-backup               REPLACED<span class="token operator">!</span> Please use http://hub.docker.com/r\u2026   <span class="token number">41</span>                                      <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>\nbitnami/mysql                     Bitnami MySQL Docker Image                      <span class="token number">35</span>                                      <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>\ntutum/mysql                       Base <span class="token function">docker</span> image to run a MySQL database se\u2026   <span class="token number">34</span>\nschickling/mysql-backup-s3        Backup MySQL to S3 <span class="token punctuation">(</span>supports periodic backup\u2026   <span class="token number">29</span>                                      <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>\nprom/mysqld-exporter                                                              <span class="token number">26</span>                                      <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>\nlinuxserver/mysql                 A Mysql container, brought to you by LinuxSe\u2026   <span class="token number">24</span>\ncentos/mysql-56-centos7           MySQL <span class="token number">5.6</span> SQL database server                   <span class="token number">19</span>\ncircleci/mysql                    MySQL is a widely used, open-source relation\u2026   <span class="token number">18</span>\nmysql/mysql-router                MySQL Router provides transparent routing be\u2026   <span class="token number">14</span>\narey/mysql-client                 Run a MySQL client from a <span class="token function">docker</span> container      <span class="token number">13</span>                                      <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>\ndataback/mysql-backup             Back up mysql databases to<span class="token punctuation">..</span>. anywhere<span class="token operator">!</span>         <span class="token number">10</span>\nopenshift/mysql-55-centos7        DEPRECATED: A Centos7 based MySQL v5.5 image\u2026   <span class="token number">6</span>\nfradelg/mysql-cron-backup         MySQL/MariaDB database backup using <span class="token function">cron</span> tas\u2026   <span class="token number">5</span>                                       <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>\ngenschsa/mysql-employees          MySQL Employee Sample Database                  <span class="token number">4</span>                                       <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>\ndevilbox/mysql                    Retagged MySQL, MariaDB and PerconaDB offici\u2026   <span class="token number">2</span>\nansibleplaybookbundle/mysql-apb   An APB <span class="token function">which</span> deploys RHSCL MySQL                <span class="token number">2</span>                                       <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>\njelastic/mysql                    An image of the MySQL database server mainta\u2026   <span class="token number">1</span>\nmonasca/mysql-init                A minimal decoupled init container <span class="token keyword">for</span> mysql    <span class="token number">0</span>\nwiddpim/mysql-client              Dockerized MySQL Client <span class="token punctuation">(</span><span class="token number">5.7</span><span class="token punctuation">)</span> including Curl\u2026   <span class="token number">0</span>                                       <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>\n\n\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><table><thead><tr><th>\u5C5E\u6027</th><th style="text-align:left;">\u8BF4\u660E</th></tr></thead><tbody><tr><td>NAME</td><td style="text-align:left;">\u955C\u50CF\u540D\u79F0</td></tr><tr><td>DESCRIPTION</td><td style="text-align:left;">\u955C\u50CF\u63CF\u8FF0</td></tr><tr><td>STARS</td><td style="text-align:left;">\u7528\u6237\u8BC4\u4EF7</td></tr><tr><td>OFFICIAL</td><td style="text-align:left;">\u662F\u5426\u4E3A\u5B98\u65B9\u6784\u5EFA</td></tr><tr><td>AUTOMATED</td><td style="text-align:left;">Docker Hub \u81EA\u52A8\u6784\u5EFA</td></tr></tbody></table><h3 id="_2-3-\u62C9\u53D6\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#_2-3-\u62C9\u53D6\u955C\u50CF" aria-hidden="true">#</a> 2.3 \u62C9\u53D6\u955C\u50CF</h3><p>\u62C9\u53D6\u955C\u50CF\u5C31\u662F\u4ECE\u4E2D\u592E\u4ED3\u5E93\u4E0B\u8F7D\u955C\u50CF\u5230\u672C\u5730\u3002</p><p>\u6267\u884C\u547D\u4EE4\uFF1A<code>docker pull \u955C\u50CF\u540D\u79F0</code></p><p>\u5982\u679C\u4E0D\u58F0\u660E<code>tag</code>\u955C\u50CF\u6807\u7B7E\u4FE1\u606F\u5219\u9ED8\u8BA4\u62C9\u53D6<code>latest</code>\u7248\u672C\u3002</p><blockquote><p>\u73B0\u5728\u62C9\u53D6\u641C\u7D22\u51FA\u7684MySQL</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\n[root@ ~]# docker pull mysql\nUsing default tag: latest\nlatest: Pulling from library/mysql\n619014d83c02: Pull complete\n9ced578c3a5f: Pull complete\n731f6e13d8ea: Pull complete\n3c183de42679: Pull complete\n6de69b5c2f3c: Pull complete\n00f0a4086406: Pull complete\n84d93aea836d: Pull complete\nf18efbfd8d76: Pull complete\n012b302865d1: Pull complete\nfe16fd240f59: Pull complete\nca3e793e545e: Pull complete\n51d0f2cb2610: Pull complete\nDigest: sha256:6d0741319b6a2ae22c384a97f4bbee411b01e75f6284af0cce339fee83d7e314\nStatus: Downloaded newer image for mysql:latest\ndocker.io/library/mysql:latest\n[root@pdai ~]# docker images\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\nmysql               latest              791b6e40940c        2 weeks ago         465MB\nubuntu              latest              ccc6e87d482b        4 weeks ago         64.2MB\nhello-world         latest              fce289e99eb9        13 months ago       1.84kB\n  \n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-4-\u5220\u9664\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#_2-4-\u5220\u9664\u955C\u50CF" aria-hidden="true">#</a> 2.4 \u5220\u9664\u955C\u50CF</h3><p>\u6309\u955C\u50CF<code>ID</code>\u5220\u9664\u5355\u4E2A\u955C\u50CF\u3002</p><p>\u6267\u884C\u547D\u4EE4\uFF1A<code>docker rmi \u955C\u50CFID</code></p><p>\u6309\u955C\u50CF<code>ID</code>\u5220\u9664\u591A\u4E2A\u955C\u50CF\u3002</p><p>\u6267\u884C\u547D\u4EE4\uFF1A<code>docker rmi \u955C\u50CFID \u955C\u50CFID \u955C\u50CFID</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker rmi hello-world</span>\nError response from daemon: conflict: unable to remove repository reference <span class="token string">&quot;hello-world&quot;</span> <span class="token punctuation">(</span>must force<span class="token punctuation">)</span> - container c91b90b18884 is using its referenced image fce289e99eb9\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><code>docker images -q</code>\u53EF\u4EE5\u67E5\u8BE2\u5230\u6240\u6709\u955C\u50CF\u7684<code>ID</code>\uFF0C\u901A\u8FC7\u7EC4\u5408\u547D\u4EE4\u53EF\u4EE5\u5B9E\u73B0\u5220\u9664\u6240\u6709\u955C\u50CF\u7684\u64CD\u4F5C\u3002</p><p>\u6267\u884C\u547D\u4EE4\uFF1A<code>docker rmi docker images -q</code></p><p>\u53D1\u73B0\u62A5\u9519\u4E86\uFF0C\u8FD9\u65F6\u5019\u4E3B\u8981\u770B\u4E24\u70B9\uFF1A</p><ul><li>\u8981\u4E48\u5C31\u662Fcontainer\u5B9E\u4F8B\u5B58\u5728</li><li>\u8981\u4E48\u5B58\u5728\u955C\u50CF\u4F9D\u8D56\uFF1B</li></ul><h3 id="_2-5-\u66F4\u65B0\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#_2-5-\u66F4\u65B0\u955C\u50CF" aria-hidden="true">#</a> 2.5 \u66F4\u65B0\u955C\u50CF</h3><blockquote><p>\u9488\u5BF9\u4E0A\u8FF0ubuntu\u7684\u955C\u50CF\uFF0C\u6211\u4EEC\u80FD\u5426\u5728\u91CC\u9762\u5B89\u88C5\u4E00\u4E9B\u8F6F\u4EF6\uFF0C\u7136\u540E\u91CD\u65B0\u751F\u6210\u4E00\u4E2A\u955C\u50CF\u5462\uFF1F\u8FD9\u5C31\u662F\u66F4\u65B0\u91CD\u65B0commit\u51FA\u4E00\u4E2A\u65B0\u7684\u955C\u50CF\u3002</p></blockquote><p>\u6211\u4EEC\u5148\u8DD1\u4E00\u4E2Aubuntu\u5BB9\u5668\u5B9E\u4F8B\uFF0C\u540C\u65F6\u5728\u91CC\u9762\u8FDB\u884C<code>apt-get update</code>\u66F4\u65B0</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker run -it ubuntu:latest</span>\nroot@0a1556ca3c27:/<span class="token comment"># apt-get update</span>\nGet:1 http://security.ubuntu.com/ubuntu bionic-security InRelease <span class="token punctuation">[</span><span class="token number">88.7</span> kB<span class="token punctuation">]</span>\nGet:2 http://archive.ubuntu.com/ubuntu bionic InRelease <span class="token punctuation">[</span><span class="token number">242</span> kB<span class="token punctuation">]</span>\nGet:3 http://archive.ubuntu.com/ubuntu bionic-updates InRelease <span class="token punctuation">[</span><span class="token number">88.7</span> kB<span class="token punctuation">]</span>\nGet:4 http://archive.ubuntu.com/ubuntu bionic-backports InRelease <span class="token punctuation">[</span><span class="token number">74.6</span> kB<span class="token punctuation">]</span>\nGet:5 http://security.ubuntu.com/ubuntu bionic-security/main amd64 Packages <span class="token punctuation">[</span><span class="token number">817</span> kB<span class="token punctuation">]</span>\nGet:6 http://archive.ubuntu.com/ubuntu bionic/main amd64 Packages <span class="token punctuation">[</span><span class="token number">1344</span> kB<span class="token punctuation">]</span>\nGet:7 http://archive.ubuntu.com/ubuntu bionic/multiverse amd64 Packages <span class="token punctuation">[</span><span class="token number">186</span> kB<span class="token punctuation">]</span>\nGet:8 http://archive.ubuntu.com/ubuntu bionic/restricted amd64 Packages <span class="token punctuation">[</span><span class="token number">13.5</span> kB<span class="token punctuation">]</span>\nGet:9 http://archive.ubuntu.com/ubuntu bionic/universe amd64 Packages <span class="token punctuation">[</span><span class="token number">11.3</span> MB<span class="token punctuation">]</span>\nGet:10 http://security.ubuntu.com/ubuntu bionic-security/restricted amd64 Packages <span class="token punctuation">[</span><span class="token number">27.5</span> kB<span class="token punctuation">]</span>\nGet:11 http://security.ubuntu.com/ubuntu bionic-security/multiverse amd64 Packages <span class="token punctuation">[</span><span class="token number">7064</span> B<span class="token punctuation">]</span>\nGet:12 http://security.ubuntu.com/ubuntu bionic-security/universe amd64 Packages <span class="token punctuation">[</span><span class="token number">818</span> kB<span class="token punctuation">]</span>\nGet:13 http://archive.ubuntu.com/ubuntu bionic-updates/multiverse amd64 Packages <span class="token punctuation">[</span><span class="token number">11.1</span> kB<span class="token punctuation">]</span>\nGet:14 http://archive.ubuntu.com/ubuntu bionic-updates/universe amd64 Packages <span class="token punctuation">[</span><span class="token number">1345</span> kB<span class="token punctuation">]</span>\nGet:15 http://archive.ubuntu.com/ubuntu bionic-updates/restricted amd64 Packages <span class="token punctuation">[</span><span class="token number">41.2</span> kB<span class="token punctuation">]</span>\nGet:16 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 Packages <span class="token punctuation">[</span><span class="token number">1104</span> kB<span class="token punctuation">]</span>\nGet:17 http://archive.ubuntu.com/ubuntu bionic-backports/universe amd64 Packages <span class="token punctuation">[</span><span class="token number">4252</span> B<span class="token punctuation">]</span>\nGet:18 http://archive.ubuntu.com/ubuntu bionic-backports/main amd64 Packages <span class="token punctuation">[</span><span class="token number">2496</span> B<span class="token punctuation">]</span>\nFetched <span class="token number">17.6</span> MB <span class="token keyword">in</span> 10s <span class="token punctuation">(</span><span class="token number">1759</span> kB/s<span class="token punctuation">)</span>\nReading package lists<span class="token punctuation">..</span>. Done\nroot@0a1556ca3c27:/<span class="token comment"># exit</span>\n<span class="token builtin class-name">exit</span>\n\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6B64\u65F6 ID \u4E3A 0a1556ca3c27 \u7684\u5BB9\u5668\uFF0C\u662F\u6309\u6211\u4EEC\u7684\u9700\u6C42\u66F4\u6539\u7684\u5BB9\u5668\u3002\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u547D\u4EE4 docker commit \u6765\u63D0\u4EA4\u5BB9\u5668\u526F\u672C\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker commit -m=&quot;update test&quot; -a=&quot;pdai&quot; 0a1556ca3c27  pdai/ubuntu:v1.0.1</span>\nsha256:b51e9f5f98cdb5b95c34181148ed7029f0150618aa8cd0e916b10b6aea1bd4c9\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u53EF\u4EE5\u770B\u5230\u5DF2\u7ECF\u751F\u6210\u6210\u529F, \u4E14\u955C\u50CF\u7684\u5927\u5C0F\u4E0D\u4E00\u6837\u4E86\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker images</span>\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\npdai/ubuntu         v1.0.1              b51e9f5f98cd        <span class="token number">5</span> seconds ago       <span class="token number">92</span>.1MB\nmysql               latest              791b6e40940c        <span class="token number">2</span> weeks ago         465MB\nubuntu              latest              ccc6e87d482b        <span class="token number">4</span> weeks ago         <span class="token number">64</span>.2MB\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-6-\u751F\u6210\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#_2-6-\u751F\u6210\u955C\u50CF" aria-hidden="true">#</a> 2.6 \u751F\u6210\u955C\u50CF</h3><blockquote><p>\u90A3\u5982\u679C\u662F\u751F\u6210\u4E00\u4E2A\u5168\u65B0\u7684\u955C\u50CF\u5462\uFF1F\u6211\u4EEC\u4F7F\u7528\u547D\u4EE4 docker build \uFF0C\u901A\u8FC7\u521B\u5EFA\u4E00\u4E2A Dockerfile \u6587\u4EF6\uFF0C\u5176\u4E2D\u5305\u542B\u4E00\u7EC4\u6307\u4EE4\u6765\u544A\u8BC9 Docker \u5982\u4F55\u6784\u5EFA\u6211\u4EEC\u7684\u955C\u50CF\u3002</p></blockquote><p>\u8FD9\u91CC\u7279\u610F\u6307\u5B9A\u7684Base\u955C\u50CF\u4E3A\u4E0A\u4E00\u6B65\u4FEE\u6539\u751F\u6210\u7684<code>pdai/ubuntu:v1.0.1</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>FROM    pdai/ubuntu:v1.0.1\nMAINTAINER      pdai <span class="token string">&quot;pdai.tech&quot;</span>\n\nRUN     /bin/echo <span class="token string">&#39;root:123456&#39;</span> <span class="token operator">|</span>chpasswd\nRUN     <span class="token function">useradd</span> pdai\nRUN     /bin/echo <span class="token string">&#39;pdai:123456&#39;</span> <span class="token operator">|</span>chpasswd\nRUN     /bin/echo -e <span class="token string">&quot;LANG=<span class="token entity" title="\\&quot;">\\&quot;</span>en_US.UTF-8<span class="token entity" title="\\&quot;">\\&quot;</span>&quot;</span> <span class="token operator">&gt;</span>/etc/default/local\nEXPOSE  <span class="token number">22</span>\nEXPOSE  <span class="token number">80</span>\nCMD     /usr/sbin/sshd -D\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u7A0D\u5FAE\u89E3\u91CA\u4E0B</strong>\uFF1A\u8FD9\u4E00\u90E8\u5206\u5728\u5F00\u53D1\u4E2D\u4F1A\u7528\u5230\u6BD4\u8F83\u591A\uFF0C\u6240\u4EE5\u5355\u72EC\u4E00\u4E2A\u7AE0\u8282\u8BE6\u89E3\uFF1A</p><ul><li>\u6BCF\u4E00\u4E2A\u6307\u4EE4\u90FD\u4F1A\u5728\u955C\u50CF\u4E0A\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684\u5C42\uFF0C\u6BCF\u4E00\u4E2A\u6307\u4EE4\u7684\u524D\u7F00\u90FD\u5FC5\u987B\u662F\u5927\u5199\u7684\u3002</li><li>\u7B2C\u4E00\u6761FROM\uFF0C\u6307\u5B9A\u4F7F\u7528\u54EA\u4E2A\u955C\u50CF\u6E90</li><li>RUN \u6307\u4EE4\u544A\u8BC9docker \u5728\u955C\u50CF\u5185\u6267\u884C\u547D\u4EE4\uFF0C\u5B89\u88C5\u4E86\u4EC0\u4E48\u3002\u3002\u3002</li><li>\u6211\u4EEC\u4F7F\u7528 Dockerfile \u6587\u4EF6\uFF0C\u901A\u8FC7 docker build \u547D\u4EE4\u6765\u6784\u5EFA\u4E00\u4E2A\u955C\u50CF\u3002</li></ul><p>\u63A5\u4E0B\u6765\u751F\u6210\u955C\u50CF\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@pdai docker-test<span class="token punctuation">]</span><span class="token comment"># docker build -t pdai/ubuntu:v2.0.1 .</span>\nSending build context to Docker daemon  <span class="token number">2</span>.048kB\nStep <span class="token number">1</span>/9 <span class="token builtin class-name">:</span> FROM    pdai/ubuntu:v1.0.1\n ---<span class="token operator">&gt;</span> b51e9f5f98cd\nStep <span class="token number">2</span>/9 <span class="token builtin class-name">:</span> MAINTAINER      pdai <span class="token string">&quot;pdai.tech&quot;</span>\n ---<span class="token operator">&gt;</span> Running <span class="token keyword">in</span> af026ee229ea\nRemoving intermediate container af026ee229ea\n ---<span class="token operator">&gt;</span> 0e961cb557c9\nStep <span class="token number">3</span>/9 <span class="token builtin class-name">:</span> RUN     /bin/echo <span class="token string">&#39;root:123456&#39;</span> <span class="token operator">|</span>chpasswd\n ---<span class="token operator">&gt;</span> Running <span class="token keyword">in</span> 96bd9c40c55e\nRemoving intermediate container 96bd9c40c55e\n ---<span class="token operator">&gt;</span> 9e8549720043\nStep <span class="token number">4</span>/9 <span class="token builtin class-name">:</span> RUN     <span class="token function">useradd</span> pdai\n ---<span class="token operator">&gt;</span> Running <span class="token keyword">in</span> 0117278f243c\nRemoving intermediate container 0117278f243c\n ---<span class="token operator">&gt;</span> 87c478df56da\nStep <span class="token number">5</span>/9 <span class="token builtin class-name">:</span> RUN     /bin/echo <span class="token string">&#39;pdai:123456&#39;</span> <span class="token operator">|</span>chpasswd\n ---<span class="token operator">&gt;</span> Running <span class="token keyword">in</span> e0381eabe71a\nRemoving intermediate container e0381eabe71a\n ---<span class="token operator">&gt;</span> 84fd07f978ae\nStep <span class="token number">6</span>/9 <span class="token builtin class-name">:</span> RUN     /bin/echo -e <span class="token string">&quot;LANG=<span class="token entity" title="\\&quot;">\\&quot;</span>en_US.UTF-8<span class="token entity" title="\\&quot;">\\&quot;</span>&quot;</span> <span class="token operator">&gt;</span>/etc/default/local\n ---<span class="token operator">&gt;</span> Running <span class="token keyword">in</span> 8d0052d9921f\nRemoving intermediate container 8d0052d9921f\n ---<span class="token operator">&gt;</span> 3ed0b248224c\nStep <span class="token number">7</span>/9 <span class="token builtin class-name">:</span> EXPOSE  <span class="token number">22</span>\n ---<span class="token operator">&gt;</span> Running <span class="token keyword">in</span> 4b5d540567cd\nRemoving intermediate container 4b5d540567cd\n ---<span class="token operator">&gt;</span> c0a72ad140dd\nStep <span class="token number">8</span>/9 <span class="token builtin class-name">:</span> EXPOSE  <span class="token number">80</span>\n ---<span class="token operator">&gt;</span> Running <span class="token keyword">in</span> c9620707d038\nRemoving intermediate container c9620707d038\n ---<span class="token operator">&gt;</span> df42b714ecc1\nStep <span class="token number">9</span>/9 <span class="token builtin class-name">:</span> CMD     /usr/sbin/sshd -D\n ---<span class="token operator">&gt;</span> Running <span class="token keyword">in</span> e178826b43fe\nRemoving intermediate container e178826b43fe\n ---<span class="token operator">&gt;</span> a733d5a264b5\nSuccessfully built a733d5a264b5\nSuccessfully tagged pdai/ubuntu:v2.0.1\n\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u53C2\u6570\u8BF4\u660E\uFF1A</p><ul><li><code>-t</code> \uFF1A\u6307\u5B9A\u8981\u521B\u5EFA\u7684\u76EE\u6807\u955C\u50CF\u540D</li><li><code>.</code> \uFF1ADockerfile \u6587\u4EF6\u6240\u5728\u76EE\u5F55\uFF0C\u53EF\u4EE5\u6307\u5B9ADockerfile \u7684\u7EDD\u5BF9\u8DEF\u5F84</li></ul><p>\u4F7F\u7528docker images \u67E5\u770B\u521B\u5EFA\u7684\u955C\u50CF\u5DF2\u7ECF\u5728\u5217\u8868\u4E2D\u5B58\u5728,\u955C\u50CFID\u4E3Aa733d5a264b5</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@pdai docker-test<span class="token punctuation">]</span><span class="token comment"># docker images</span>\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\npdai/ubuntu         v2.0.1              a733d5a264b5        <span class="token number">5</span> minutes ago       <span class="token number">92</span>.5MB\npdai/ubuntu         v1.0.1              b51e9f5f98cd        <span class="token number">15</span> hours ago        <span class="token number">92</span>.1MB\nmysql               latest              791b6e40940c        <span class="token number">2</span> weeks ago         465MB\nubuntu              latest              ccc6e87d482b        <span class="token number">4</span> weeks ago         <span class="token number">64</span>.2MB\n\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528\u65B0\u7684\u955C\u50CF\u6765\u521B\u5EFA\u5BB9\u5668</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@pdai docker-test<span class="token punctuation">]</span><span class="token comment"># docker run -it pdai/ubuntu:v2.0.1 /bin/bash</span>\nroot@f5332ebce695:/<span class="token comment"># id pdai</span>\n<span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">(</span>pdai<span class="token punctuation">)</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">(</span>pdai<span class="token punctuation">)</span> <span class="token assign-left variable">groups</span><span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">(</span>pdai<span class="token punctuation">)</span>\nroot@f5332ebce695:/<span class="token comment"># exit</span>\n<span class="token builtin class-name">exit</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4ECE\u4E0A\u9762\u770B\u5230\u65B0\u955C\u50CF\u5DF2\u7ECF\u5305\u542B\u6211\u4EEC\u521B\u5EFA\u7684\u7528\u6237 pdai\u3002</p><h3 id="_2-7-\u955C\u50CF\u6807\u7B7E" tabindex="-1"><a class="header-anchor" href="#_2-7-\u955C\u50CF\u6807\u7B7E" aria-hidden="true">#</a> 2.7 \u955C\u50CF\u6807\u7B7E</h3><blockquote><p>\u8BBE\u7F6E\u955C\u50CF\u7684Tag\uFF0C\u7C7B\u4F3C\u4E8EGit\u4E2Dtag\uFF1F\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528 docker tag \u547D\u4EE4\uFF0C\u4E3A\u955C\u50CF\u6DFB\u52A0\u4E00\u4E2A\u65B0\u7684\u6807\u7B7E</p></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker tag a733d5a264b5 pdai/ubuntu:v3.0.1</span>\n<span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker images</span>\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\npdai/ubuntu         v2.0.1              a733d5a264b5        <span class="token number">9</span> minutes ago       <span class="token number">92</span>.5MB\npdai/ubuntu         v3.0.1              a733d5a264b5        <span class="token number">9</span> minutes ago       <span class="token number">92</span>.5MB\npdai/ubuntu         v1.0.1              b51e9f5f98cd        <span class="token number">15</span> hours ago        <span class="token number">92</span>.1MB\nmysql               latest              791b6e40940c        <span class="token number">2</span> weeks ago         465MB\nubuntu              latest              ccc6e87d482b        <span class="token number">4</span> weeks ago         <span class="token number">64</span>.2MB\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6CE8\u610F\uFF1A</p><ul><li>docker tag \u955C\u50CFID\uFF0C\u8FD9\u91CC\u662F a733d5a264b5 ,\u7528\u6237\u540D\u79F0\u3001\u955C\u50CF\u6E90\u540D(repository name)\u548C\u65B0\u7684\u6807\u7B7E\u540D(tag)\u3002</li><li>\u4F7F\u7528 docker images \u547D\u4EE4\u53EF\u4EE5\u770B\u5230\uFF0CID\u4E3Aa733d5a264b5\u7684\u955C\u50CF\u591A\u4E00\u4E2Av3.0.1\u6807\u7B7E\u3002</li></ul><h3 id="_2-8-\u955C\u50CF\u5BFC\u51FA\u548C\u5BFC\u5165" tabindex="-1"><a class="header-anchor" href="#_2-8-\u955C\u50CF\u5BFC\u51FA\u548C\u5BFC\u5165" aria-hidden="true">#</a> 2.8 \u955C\u50CF\u5BFC\u51FA\u548C\u5BFC\u5165</h3><blockquote><p>\u533A\u522B\u4E8E\u5BB9\u5668\u7684\u5BFC\u51FA\u548C\u5BFC\u5165</p></blockquote><ul><li>\u955C\u50CF\u5BFC\u51FA</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker images</span>\ndockREPOSITORY                   TAG                 IMAGE ID            CREATED             SIZE\npdai/ubuntu                  v2.0.2              57544a04cd1a        <span class="token number">3</span> months ago        <span class="token number">91</span>.5MB\n<span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker save &gt; pdai-ubuntu-v2.0.2.tar 57544a04cd1a</span>\n<span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># ll | grep pdai-u</span>\n-rw-rw-r-- <span class="token number">1</span> root root <span class="token number">93898240</span> Jun  <span class="token number">4</span> 09:06 pdai-ubuntu-v2.0.2.tar\n<span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment">#</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u955C\u50CF\u5BFC\u5165</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> load <span class="token operator">&lt;</span> pdai-ubuntu-v2.0.2.tar\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5176\u4E2D<code>-i</code>\u6216\u8005<code>&lt;</code>\u8868\u793A\u4ECE\u6587\u4EF6\u8F93\u5165\u3002\u4F1A\u6210\u529F\u5BFC\u5165\u955C\u50CF\u53CA\u76F8\u5173\u5143\u6570\u636E\uFF0C\u5305\u62ECtag\u4FE1\u606F</p><blockquote><p>\u53EF\u4EE5\u4F9D\u636E\u5177\u4F53\u4F7F\u7528\u573A\u666F\u6765\u9009\u62E9\u547D\u4EE4</p></blockquote><ul><li>\u82E5\u662F\u53EA\u60F3\u5907\u4EFDimages\uFF0C\u4F7F\u7528save\u3001load\u5373\u53EF</li><li>\u82E5\u662F\u5728\u542F\u52A8\u5BB9\u5668\u540E\uFF0C\u5BB9\u5668\u5185\u5BB9\u6709\u53D8\u5316\uFF0C\u9700\u8981\u5907\u4EFD\uFF0C\u5219\u4F7F\u7528export\u3001import</li></ul><h2 id="_3-docker-\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#_3-docker-\u5BB9\u5668" aria-hidden="true">#</a> 3. Docker \u5BB9\u5668</h2><blockquote><p>\u4E0A\u9762\u5DF2\u7ECF\u5C55\u793A\u4E86\u90E8\u5206\u5BB9\u5668\u7684\u4F7F\u7528\u547D\u4EE4\u4E86\uFF0C\u8FD9\u91CC\u4F1A\u5728\u6B64\u57FA\u7840\u4E0A\u8FDB\u884C\u62D3\u5C55</p></blockquote><h3 id="_3-1-\u521B\u5EFA\u4E0E\u542F\u52A8\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#_3-1-\u521B\u5EFA\u4E0E\u542F\u52A8\u5BB9\u5668" aria-hidden="true">#</a> 3.1 \u521B\u5EFA\u4E0E\u542F\u52A8\u5BB9\u5668</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run [OPTIONS] IMAGE [COMMAND] [ARG...]\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u9996\u5148\u6211\u4EEC\u662F\u53EF\u4EE5\u8FD9\u6837\u542F\u52A8\u5BB9\u5668\u7684\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@pdai docker-test<span class="token punctuation">]</span><span class="token comment"># docker run -it pdai/ubuntu:v2.0.1 /bin/bash</span>\nroot@f5332ebce695:/<span class="token comment"># id pdai</span>\n<span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">(</span>pdai<span class="token punctuation">)</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">(</span>pdai<span class="token punctuation">)</span> <span class="token assign-left variable">groups</span><span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">(</span>pdai<span class="token punctuation">)</span>\nroot@f5332ebce695:/<span class="token comment"># exit</span>\n<span class="token builtin class-name">exit</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>-it</code> \u53EF\u4EE5\u8FDE\u5199\u7684\uFF0C\u8868\u793A <code>-i -t</code></li><li><code>-t</code>: \u5728\u65B0\u5BB9\u5668\u5185\u6307\u5B9A\u4E00\u4E2A\u4F2A\u7EC8\u7AEF\u6216\u7EC8\u7AEF\u3002</li><li><code>-i</code>: \u5141\u8BB8\u4F60\u5BF9\u5BB9\u5668\u5185\u7684\u6807\u51C6\u8F93\u5165 (STDIN) \u8FDB\u884C\u4EA4\u4E92</li></ul><h4 id="_3-1-1-\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#_3-1-1-\u53C2\u6570" aria-hidden="true">#</a> 3.1.1 \u53C2\u6570</h4><ul><li><code>-it</code> \u53EF\u4EE5\u8FDE\u5199\u7684\uFF0C\u8868\u793A <code>-i -t</code></li><li><code>-t</code>: \u5728\u65B0\u5BB9\u5668\u5185\u6307\u5B9A\u4E00\u4E2A\u4F2A\u7EC8\u7AEF\u6216\u7EC8\u7AEF\u3002</li><li><code>-i</code>: \u5141\u8BB8\u4F60\u5BF9\u5BB9\u5668\u5185\u7684\u6807\u51C6\u8F93\u5165 (STDIN) \u8FDB\u884C\u4EA4\u4E92</li><li>--name\uFF1A\u4E3A\u521B\u5EFA\u7684\u5BB9\u5668\u547D\u540D\uFF1B</li><li>-v\uFF1A\u8868\u793A\u76EE\u5F55\u6620\u5C04\u5173\u7CFB\uFF08\u524D\u8005\u662F\u5BBF\u4E3B\u673A\u76EE\u5F55\uFF0C\u540E\u8005\u662F\u6620\u5C04\u5230\u5BBF\u4E3B\u673A\u4E0A\u7684\u76EE\u5F55\uFF09\uFF0C\u53EF\u4EE5\u4F7F\u7528\u591A\u4E2A -v \u505A\u591A\u4E2A\u76EE\u5F55\u6216\u6587\u4EF6\u6620\u5C04\u3002\u6CE8\u610F\uFF1A\u6700\u597D\u505A\u76EE\u5F55\u6620\u5C04\uFF0C\u5728\u5BBF\u4E3B\u673A\u4E0A\u505A\u4FEE\u6539\uFF0C\u7136\u540E\u5171\u4EAB\u5230\u5BB9\u5668\u4E0A\uFF1B</li><li>-d\uFF1A\u5728 run \u540E\u9762\u52A0\u4E0A -d \u53C2\u6570\uFF0C\u5219\u4F1A\u521B\u5EFA\u4E00\u4E2A\u5B88\u62A4\u5F0F\u5BB9\u5668\u5728\u540E\u53F0\u8FD0\u884C\uFF08\u8FD9\u6837\u521B\u5EFA\u5BB9\u5668\u540E\u4E0D\u4F1A\u81EA\u52A8\u767B\u5F55\u5BB9\u5668\uFF0C\u5982\u679C\u53EA\u52A0 -i -t \u4E24\u4E2A\u53C2\u6570\uFF0C\u521B\u5EFA\u5BB9\u5668\u540E\u5C31\u4F1A\u81EA\u52A8\u8FDB\u5BB9\u5668\u91CC\uFF09\uFF1B</li><li>-p\uFF1A\u8868\u793A\u7AEF\u53E3\u6620\u5C04\uFF0C\u524D\u8005\u662F\u5BBF\u4E3B\u673A\u7AEF\u53E3\uFF0C\u540E\u8005\u662F\u5BB9\u5668\u5185\u7684\u6620\u5C04\u7AEF\u53E3\u3002\u53EF\u4EE5\u4F7F\u7528\u591A\u4E2A -p \u505A\u591A\u4E2A\u7AEF\u53E3\u6620\u5C04\u3002</li><li>-P\uFF1A\u968F\u673A\u4F7F\u7528\u5BBF\u4E3B\u673A\u7684\u53EF\u7528\u7AEF\u53E3\u4E0E\u5BB9\u5668\u5185\u66B4\u9732\u7684\u7AEF\u53E3\u6620\u5C04\u3002</li><li>--restart=always \uFF1A\u521B\u5EFA\u5BB9\u5668\u65F6\u6DFB\u52A0\u53C2\u6570 --restart=always \u540E\uFF0C\u5F53docker\u91CD\u542F\u65F6\uFF0C\u5BB9\u5668\u81EA\u52A8\u542F\u52A8\u3002</li></ul><h4 id="_3-1-2-\u521B\u5EFA\u5E76\u8FDB\u5165\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#_3-1-2-\u521B\u5EFA\u5E76\u8FDB\u5165\u5BB9\u5668" aria-hidden="true">#</a> 3.1.2 \u521B\u5EFA\u5E76\u8FDB\u5165\u5BB9\u5668</h4><p>\u4E0B\u9762\u8FD9\u884C\u547D\u4EE4\u7684\u610F\u601D\u5C31\u662F\u901A\u8FC7\u955C\u50CF AA \u521B\u5EFA\u4E00\u4E2A\u5BB9\u5668 BB\uFF0C\u8FD0\u884C\u5BB9\u5668\u5E76\u8FDB\u5165\u5BB9\u5668\u7684<code>/bin/bash</code>\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run -it --name \u5BB9\u5668\u540D\u79F0 \u955C\u50CF\u540D\u79F0:\u6807\u7B7E /bin/bash\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u6CE8\u610F\uFF1A<code>Docker</code>\u5BB9\u5668\u8FD0\u884C\u5FC5\u987B\u6709\u4E00\u4E2A\u524D\u53F0\u8FDB\u7A0B\uFF0C\u5982\u679C\u6CA1\u6709\u524D\u53F0\u8FDB\u7A0B\u6267\u884C\uFF0C\u5BB9\u5668\u8BA4\u4E3A\u662F\u7A7A\u95F2\u72B6\u6001\uFF0C\u5C31\u4F1A\u81EA\u52A8\u9000\u51FA\u3002</p><h4 id="_3-1-3-\u9000\u51FA\u5F53\u524D\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#_3-1-3-\u9000\u51FA\u5F53\u524D\u5BB9\u5668" aria-hidden="true">#</a> 3.1.3 \u9000\u51FA\u5F53\u524D\u5BB9\u5668</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>exit\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_3-2-\u5BB9\u5668\u67E5\u770B" tabindex="-1"><a class="header-anchor" href="#_3-2-\u5BB9\u5668\u67E5\u770B" aria-hidden="true">#</a> 3.2 \u5BB9\u5668\u67E5\u770B</h3><p>\u67E5\u770B\u6B63\u5728\u8FD0\u884C\u7684\u5BB9\u5668\u3002</p><p>\u6267\u884C\u547D\u4EE4\uFF1A<code>docker ps</code></p><table><thead><tr><th>\u5C5E\u6027</th><th style="text-align:left;">\u8BF4\u660E</th></tr></thead><tbody><tr><td>CONTAINER ID</td><td style="text-align:left;">\u5BB9\u5668 ID</td></tr><tr><td>IMAGE</td><td style="text-align:left;">\u6240\u5C5E\u955C\u50CF</td></tr><tr><td>COMMAND</td><td style="text-align:left;">\u542F\u52A8\u5BB9\u5668\u65F6\u8FD0\u884C\u7684\u547D\u4EE4</td></tr><tr><td>CREATED</td><td style="text-align:left;">\u521B\u5EFA\u65F6\u95F4</td></tr><tr><td>STATUS</td><td style="text-align:left;">\u5BB9\u5668\u72B6\u6001</td></tr><tr><td>PORTS</td><td style="text-align:left;">\u7AEF\u53E3</td></tr><tr><td>NAMES</td><td style="text-align:left;">\u5BB9\u5668\u540D\u79F0</td></tr></tbody></table><ul><li><p>\u67E5\u770B\u6240\u6709\u5BB9\u5668\uFF08\u5305\u62EC\u8FD0\u884C\u548C\u505C\u6B62\uFF09\u3002</p><p>\u6267\u884C\u547D\u4EE4\uFF1A<code>docker ps -a</code></p></li><li><p>\u67E5\u770B\u505C\u6B62\u7684\u5BB9\u5668\u3002</p><p>\u6267\u884C\u547D\u4EE4\uFF1A<code>docker ps -f status=exited</code></p></li><li><p>\u67E5\u770B\u6700\u540E\u4E00\u6B21\u8FD0\u884C\u7684\u5BB9\u5668\u3002</p><p>\u6267\u884C\u547D\u4EE4\uFF1A<code>docker ps -l</code></p></li><li><p>\u5217\u51FA\u6700\u8FD1\u521B\u5EFA\u7684 n \u4E2A\u5BB9\u5668\u3002</p><p>\u6267\u884C\u547D\u4EE4\uFF1A<code>docker ps -n 5</code></p></li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker ps -a</span>\nCONTAINER ID        IMAGE                COMMAND                  CREATED             STATUS                      PORTS               NAMES\nf5332ebce695        pdai/ubuntu:v2.0.1   <span class="token string">&quot;/bin/bash&quot;</span>              <span class="token number">20</span> minutes ago      Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">20</span> minutes ago                       jolly_kepler\n0a1556ca3c27        ubuntu:latest        <span class="token string">&quot;/bin/bash&quot;</span>              <span class="token number">16</span> hours ago        Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">16</span> hours ago                         stoic_hodgkin\n1a51d2f023c9        ubuntu:latest        <span class="token string">&quot;/bin/sh -c &#39;while t\u2026&quot;</span>   <span class="token number">18</span> hours ago        Exited <span class="token punctuation">(</span><span class="token number">137</span><span class="token punctuation">)</span> <span class="token number">18</span> hours ago                       gifted_brown\n414bf796cbe4        ubuntu:latest        <span class="token string">&quot;/bin/bash&quot;</span>              <span class="token number">18</span> hours ago        Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">18</span> hours ago                         pedantic_galileo\n512061ebfa4c        ubuntu:latest        <span class="token string">&quot;/bin/bash&quot;</span>              <span class="token number">18</span> hours ago        Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">18</span> hours ago                         wizardly_brown\naa5e9ae5e5db        ubuntu:latest        <span class="token string">&quot;/bin/echo &#39;Hello wo\u2026&quot;</span>   <span class="token number">18</span> hours ago        Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">18</span> hours ago                         affectionate_knuth\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3-\u5BB9\u5668\u518D\u542F\u52A8" tabindex="-1"><a class="header-anchor" href="#_3-3-\u5BB9\u5668\u518D\u542F\u52A8" aria-hidden="true">#</a> 3.3 \u5BB9\u5668\u518D\u542F\u52A8</h3><blockquote><p>\u6211\u4EEC\u770B\u5230\uFF0C\u521A\u624D<code>pdai/ubuntu:v2.0.1</code>\u7684\u5B9E\u4F8B<code>f5332ebce695</code>\u5DF2\u7ECF\u505C\u6B62\u4E86<code>Exited (0) 20 minutes ago</code>\uFF0C\u6211\u4EEC\u80FD\u5426\u518D\u542F\u8FD9\u4E2A\u5B9E\u4F8B\uFF1F</p></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker start f5332ebce695</span>\nf5332ebce695\n<span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker ps</span>\nCONTAINER ID        IMAGE                COMMAND             CREATED             STATUS              PORTS               NAMES\nf5332ebce695        pdai/ubuntu:v2.0.1   <span class="token string">&quot;/bin/bash&quot;</span>         <span class="token number">32</span> minutes ago      Up <span class="token number">4</span> seconds        <span class="token number">22</span>/tcp, <span class="token number">80</span>/tcp      jolly_kepler\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-4-\u5BB9\u5668\u505C\u6B62\u548C\u91CD\u542F" tabindex="-1"><a class="header-anchor" href="#_3-4-\u5BB9\u5668\u505C\u6B62\u548C\u91CD\u542F" aria-hidden="true">#</a> 3.4 \u5BB9\u5668\u505C\u6B62\u548C\u91CD\u542F</h3><blockquote><p>\u6211\u4EEC\u5C06\u4E0A\u8FF0\u5BB9\u5668\u505C\u6B62\uFF0C\u518D\u91CD\u542F</p></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker stop f5332ebce695</span>\nf5332ebce695\n<span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker ps</span>\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n<span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker restart f5332ebce695</span>\nf5332ebce695\n<span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker ps -a</span>\nCONTAINER ID        IMAGE                COMMAND                  CREATED             STATUS                      PORTS               NAMES\nf5332ebce695        pdai/ubuntu:v2.0.1   <span class="token string">&quot;/bin/bash&quot;</span>              <span class="token number">33</span> minutes ago      Up <span class="token number">2</span> seconds                <span class="token number">22</span>/tcp, <span class="token number">80</span>/tcp      jolly_kepler\n0a1556ca3c27        ubuntu:latest        <span class="token string">&quot;/bin/bash&quot;</span>              <span class="token number">16</span> hours ago        Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">16</span> hours ago                         stoic_hodgkin\n1a51d2f023c9        ubuntu:latest        <span class="token string">&quot;/bin/sh -c &#39;while t\u2026&quot;</span>   <span class="token number">18</span> hours ago        Exited <span class="token punctuation">(</span><span class="token number">137</span><span class="token punctuation">)</span> <span class="token number">18</span> hours ago                       gifted_brown\n414bf796cbe4        ubuntu:latest        <span class="token string">&quot;/bin/bash&quot;</span>              <span class="token number">18</span> hours ago        Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">18</span> hours ago                         pedantic_galileo\n512061ebfa4c        ubuntu:latest        <span class="token string">&quot;/bin/bash&quot;</span>              <span class="token number">18</span> hours ago        Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">18</span> hours ago                         wizardly_brown\naa5e9ae5e5db        ubuntu:latest        <span class="token string">&quot;/bin/echo &#39;Hello wo\u2026&quot;</span>   <span class="token number">19</span> hours ago        Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">19</span> hours ago                         affectionate_knuth\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-5-\u540E\u53F0\u6A21\u5F0F\u4E0E\u8FDB\u5165" tabindex="-1"><a class="header-anchor" href="#_3-5-\u540E\u53F0\u6A21\u5F0F\u4E0E\u8FDB\u5165" aria-hidden="true">#</a> 3.5 \u540E\u53F0\u6A21\u5F0F\u4E0E\u8FDB\u5165</h3><blockquote><p>\u5728\u4F7F\u7528 -d \u53C2\u6570\u65F6\uFF0C\u5BB9\u5668\u542F\u52A8\u540E\u4F1A\u8FDB\u5165\u540E\u53F0, \u5982\u4F55\u8FDB\u5165\u5BB9\u5668\u5462\uFF1F</p></blockquote><ul><li>\u7B2C\u4E00\u79CD\uFF1A<code>docker attach</code></li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker ps</span>\nCONTAINER ID        IMAGE                COMMAND             CREATED             STATUS              PORTS               NAMES\nf5332ebce695        pdai/ubuntu:v2.0.1   <span class="token string">&quot;/bin/bash&quot;</span>         <span class="token number">38</span> minutes ago      Up <span class="token number">2</span> seconds        <span class="token number">22</span>/tcp, <span class="token number">80</span>/tcp      jolly_kepler\n<span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker attach f5332ebce695</span>\nroot@f5332ebce695:/<span class="token comment"># echo &#39;pdai&#39;</span>\npdai\nroot@f5332ebce695:/<span class="token comment"># exit</span>\n<span class="token builtin class-name">exit</span>\n<span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker ps</span>\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u770B\u5230\u6CA1\uFF0C\u4F7F\u7528<code>docker attach</code>\u8FDB\u5165\u540E\uFF0Cexit\u4FBF\u5BB9\u5668\u4E5F\u505C\u6B62\u4E86\u3002</p><ul><li>\u7B2C\u4E8C\u79CD\uFF1A<code>docker exec</code></li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker exec -it f5332ebce695 /bin/bash</span>\nError response from daemon: Container f5332ebce69520fba353f035ccddd4bd42055fbd1e595f916ba7233e26476464 is not running\n<span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker restart f5332ebce695</span>\nf5332ebce695\n<span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker exec -it f5332ebce695 /bin/bash</span>\nroot@f5332ebce695:/<span class="token comment"># exit</span>\n<span class="token builtin class-name">exit</span>\n<span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker ps</span>\nCONTAINER ID        IMAGE                COMMAND             CREATED             STATUS              PORTS               NAMES\nf5332ebce695        pdai/ubuntu:v2.0.1   <span class="token string">&quot;/bin/bash&quot;</span>         <span class="token number">42</span> minutes ago      Up <span class="token number">8</span> seconds        <span class="token number">22</span>/tcp, <span class="token number">80</span>/tcp      jolly_kepler\n\n  \n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6CE8\u610F\uFF1A</p><ul><li>\u6211\u7279\u610F\u5728\u5BB9\u5668\u505C\u6B62\u72B6\u6001\u4E0B\u6267\u884C\u4E86<code>docker exec</code>\uFF0C\u662F\u8BA9\u4F60\u770B\u5230<code>docker exec</code>\u662F\u5728\u5BB9\u5668\u542F\u52A8\u72B6\u6001\u4E0B\u7528\u7684\uFF0C\u4E14\u6CE8\u610F\u4E0B\u9519\u8BEF\u4FE1\u606F\uFF1B</li><li><strong>\u63A8\u8350\u5927\u5BB6\u4F7F\u7528 <code>docker exec</code> \u547D\u4EE4\uFF0C\u56E0\u4E3A\u6B64\u9000\u51FA\u5BB9\u5668\u7EC8\u7AEF\uFF0C\u4E0D\u4F1A\u5BFC\u81F4\u5BB9\u5668\u7684\u505C\u6B62\u3002</strong></li></ul><h3 id="_3-6-\u5BB9\u5668\u5BFC\u51FA\u548C\u5BFC\u5165" tabindex="-1"><a class="header-anchor" href="#_3-6-\u5BB9\u5668\u5BFC\u51FA\u548C\u5BFC\u5165" aria-hidden="true">#</a> 3.6 \u5BB9\u5668\u5BFC\u51FA\u548C\u5BFC\u5165</h3><blockquote><p>\u5728\u751F\u4EA7\u73AF\u5883\u4E2D\uFF0C\u5F88\u591A\u65F6\u5019\u662F\u65E0\u6CD5\u8FDE\u63A5\u5916\u7F51\u7684\uFF0C\u6240\u4EE5\u6709\u65F6\u5019\u9700\u8981\u7528\u5230\u5BB9\u5668\u7684\u5BFC\u5165\u548C\u5BFC\u51FA\u3002</p></blockquote><ul><li>\u5BB9\u5668\u7684\u5BFC\u51FA</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker ps</span>\nCONTAINER ID        IMAGE                COMMAND             CREATED             STATUS              PORTS               NAMES\nf5332ebce695        pdai/ubuntu:v2.0.1   <span class="token string">&quot;/bin/bash&quot;</span>         <span class="token number">42</span> minutes ago      Up <span class="token number">8</span> seconds        <span class="token number">22</span>/tcp, <span class="token number">80</span>/tcp      jolly_kepler\n<span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker export f5332ebce695 &gt; ubuntu-pdai-v2.tar</span>\n<span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># ll</span>\n-rw-rw-r-- <span class="token number">1</span> root root <span class="token number">93891072</span> Feb <span class="token number">18</span> 09:42 ubuntu-pdai-v2.tar\n\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u540C\u65F6\u4F60\u53EF\u4EE5\u53D1\u73B0\uFF0C\u5BFC\u51FA\u5BB9\u5668\u7684\u65F6\u5019\uFF0C\u5BB9\u5668\u65E0\u9700\u5173\u95ED\u3002</p><ul><li>\u5BB9\u5668\u5BFC\u5165</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[root@pdai ~]# docker import ubuntu-pdai-v2.tar pdai/ubuntu:v2.0.2\nsha256:57544a04cd1ad330371ca9142184ff031dc2b6df70df177994477c08fe547b25\n[root@pdai ~]# docker images\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\npdai/ubuntu         v2.0.2              57544a04cd1a        7 seconds ago       91.5MB\npdai/ubuntu         v2.0.1              a733d5a264b5        About an hour ago   92.5MB\npdai/ubuntu         v3.0.1              a733d5a264b5        About an hour ago   92.5MB\npdai/ubuntu         v1.0.1              b51e9f5f98cd        16 hours ago        92.1MB\nmysql               latest              791b6e40940c        2 weeks ago         465MB\nubuntu              latest              ccc6e87d482b        4 weeks ago         64.2MB\n\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6CE8\u610F\u770B\uFF0CSIZE\u53EF\u80FD\u662F\u4E0D\u4E00\u6837\u7684\u3002</p><h3 id="_3-7-\u5F3A\u5236\u505C\u6B62\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#_3-7-\u5F3A\u5236\u505C\u6B62\u5BB9\u5668" aria-hidden="true">#</a> 3.7 \u5F3A\u5236\u505C\u6B62\u5BB9\u5668</h3><blockquote><p>\u80FD\u5426\u5F3A\u5236\u5220\u9664\u4E00\u4E2A\u6B63\u5728\u8FD0\u884C\u7684\u5BB9\u5668\u5462\uFF1F</p></blockquote><p>\u663E\u7136\uFF0C\u52A0\u4E0A<code>-f</code>\u4E4B\u540E\u662F\u5141\u8BB8\u7684\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker ps</span>\nCONTAINER ID        IMAGE                COMMAND             CREATED             STATUS              PORTS               NAMES\nf5332ebce695        pdai/ubuntu:v2.0.1   <span class="token string">&quot;/bin/bash&quot;</span>         About an hour ago   Up <span class="token number">24</span> minutes       <span class="token number">22</span>/tcp, <span class="token number">80</span>/tcp      jolly_kepler\n<span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker rm -f f5332ebce695</span>\nf5332ebce695\n<span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker ps -a</span>\nCONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                      PORTS               NAMES\n0a1556ca3c27        ubuntu:latest       <span class="token string">&quot;/bin/bash&quot;</span>              <span class="token number">17</span> hours ago        Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">17</span> hours ago                         stoic_hodgkin\n1a51d2f023c9        ubuntu:latest       <span class="token string">&quot;/bin/sh -c &#39;while t\u2026&quot;</span>   <span class="token number">19</span> hours ago        Exited <span class="token punctuation">(</span><span class="token number">137</span><span class="token punctuation">)</span> <span class="token number">19</span> hours ago                       gifted_brown\n414bf796cbe4        ubuntu:latest       <span class="token string">&quot;/bin/bash&quot;</span>              <span class="token number">19</span> hours ago        Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">19</span> hours ago                         pedantic_galileo\n512061ebfa4c        ubuntu:latest       <span class="token string">&quot;/bin/bash&quot;</span>              <span class="token number">19</span> hours ago        Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">19</span> hours ago                         wizardly_brown\naa5e9ae5e5db        ubuntu:latest       <span class="token string">&quot;/bin/echo &#39;Hello wo\u2026&quot;</span>   <span class="token number">19</span> hours ago        Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">19</span> hours ago                         affectionate_knuth\n\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-8-\u6E05\u7406\u505C\u6B62\u7684\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#_3-8-\u6E05\u7406\u505C\u6B62\u7684\u5BB9\u5668" aria-hidden="true">#</a> 3.8 \u6E05\u7406\u505C\u6B62\u7684\u5BB9\u5668</h3><blockquote><p>\u6211\u4EEC\u770B\u5230\u4E0A\u9762\u8FD8\u6709\u597D\u51E0\u4E2A\u5BB9\u5668\u51FA\u4E8E\u505C\u6B62\u72B6\u6001\uFF0C\u80FD\u4E0D\u80FD\u5220\u9664\u5B83\u4EEC\u5462\uFF1F</p></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker ps -a</span>\nCONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                      PORTS               NAMES\n0a1556ca3c27        ubuntu:latest       <span class="token string">&quot;/bin/bash&quot;</span>              <span class="token number">17</span> hours ago        Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">17</span> hours ago                         stoic_hodgkin\n1a51d2f023c9        ubuntu:latest       <span class="token string">&quot;/bin/sh -c &#39;while t\u2026&quot;</span>   <span class="token number">19</span> hours ago        Exited <span class="token punctuation">(</span><span class="token number">137</span><span class="token punctuation">)</span> <span class="token number">19</span> hours ago                       gifted_brown\n414bf796cbe4        ubuntu:latest       <span class="token string">&quot;/bin/bash&quot;</span>              <span class="token number">19</span> hours ago        Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">19</span> hours ago                         pedantic_galileo\n512061ebfa4c        ubuntu:latest       <span class="token string">&quot;/bin/bash&quot;</span>              <span class="token number">19</span> hours ago        Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">19</span> hours ago                         wizardly_brown\naa5e9ae5e5db        ubuntu:latest       <span class="token string">&quot;/bin/echo &#39;Hello wo\u2026&quot;</span>   <span class="token number">19</span> hours ago        Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">19</span> hours ago                         affectionate_knuth\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6E05\u7406\u505C\u6B62\u7684\u5BB9\u5668: <code>docker container prune</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker container prune</span>\nWARNING<span class="token operator">!</span> This will remove all stopped containers.\nAre you sure you want to continue? <span class="token punctuation">[</span>y/N<span class="token punctuation">]</span> y\nDeleted Containers:\n0a1556ca3c275cc692ecd6d19caed4c5be42578f81b3dfea52b24208790d160a\n1a51d2f023c947f2be2d9a78eb863e854ca302c89bf354654c409e23e7dd25d7\n414bf796cbe403e01b5414f2b6232c6a037af78deee4581f4935c94859b5164e\n512061ebfa4c340eb03833e54d77052e33fb62cd42ab7dd7e09bf0b02a761552\naa5e9ae5e5db1760bdb8c7ddb92e4293cd7b4736be7e97314f3ef44a71bf8930\n\nTotal reclaimed space: <span class="token number">27</span>.93MB\n<span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker ps -a</span>\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n\n  \n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-9-\u5BB9\u5668\u522B\u540D\u53CA\u64CD\u4F5C" tabindex="-1"><a class="header-anchor" href="#_3-9-\u5BB9\u5668\u522B\u540D\u53CA\u64CD\u4F5C" aria-hidden="true">#</a> 3.9 \u5BB9\u5668\u522B\u540D\u53CA\u64CD\u4F5C</h3><blockquote><p>\u6211\u4EEC\u4E0A\u8FF0\u5BF9\u5BB9\u5668\u7684\u64CD\u4F5C\u90FD\u662F\u9488\u5BF9\u5BB9\u5668ID\uFF0C\u8FD9\u4E2AID\u662F\u968F\u673A\u7684\uFF0C\u80FD\u5426\u6DFB\u52A0\u4E00\u4E2Aname\u5BF9\u6211\u4EEC\u81EA\u5DF1\u8BBE\u7F6E\u7684name\u64CD\u4F5C\u5462\uFF1F</p></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker run -itd --name pdai-ubuntu-202 pdai/ubuntu:v2.0.2 /bin/bash</span>\n11de9755a08402d963d263a559a7daf48f4a2188398f258641240b5eb50fbc89\n<span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker ps</span>\nCONTAINER ID        IMAGE                COMMAND             CREATED             STATUS              PORTS               NAMES\n11de9755a084        pdai/ubuntu:v2.0.2   <span class="token string">&quot;/bin/bash&quot;</span>         <span class="token number">5</span> seconds ago       Up <span class="token number">4</span> seconds                            pdai-ubuntu-202\n<span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker stop pdai-ubuntu-202</span>\npdai-ubuntu-202\n<span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker ps -a</span>\nCONTAINER ID        IMAGE                COMMAND              CREATED              STATUS                     PORTS               NAMES\n11de9755a084        pdai/ubuntu:v2.0.2   <span class="token string">&quot;/bin/bash&quot;</span>          <span class="token number">26</span> seconds ago       Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">4</span> seconds ago                       pdai-ubuntu-202   \n\n  \n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-10-\u5BB9\u5668\u9519\u8BEF\u65E5\u5FD7" tabindex="-1"><a class="header-anchor" href="#_3-10-\u5BB9\u5668\u9519\u8BEF\u65E5\u5FD7" aria-hidden="true">#</a> 3.10 \u5BB9\u5668\u9519\u8BEF\u65E5\u5FD7</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>\u4F8B\uFF1A\u5B9E\u65F6\u67E5\u770Bdocker\u5BB9\u5668\u540D\u4E3Auser-uat\u7684\u6700\u540E10\u884C\u65E5\u5FD7\n<span class="token function">docker</span> logs -f -t --tail <span class="token number">10</span> user-uat\n\n\u4F8B\uFF1A\u67E5\u770B\u6307\u5B9A\u65F6\u95F4\u540E\u7684\u65E5\u5FD7\uFF0C\u53EA\u663E\u793A\u6700\u540E100\u884C\uFF1A\n<span class="token function">docker</span> logs -f -t --since<span class="token operator">=</span><span class="token string">&quot;2018-02-08&quot;</span> --tail<span class="token operator">=</span><span class="token number">100</span> user-uat\n\n\u4F8B\uFF1A\u67E5\u770B\u6700\u8FD130\u5206\u949F\u7684\u65E5\u5FD7:\n<span class="token function">docker</span> logs --since 30m user-uat\n\n\u4F8B\uFF1A\u67E5\u770B\u67D0\u65F6\u95F4\u4E4B\u540E\u7684\u65E5\u5FD7\uFF1A\n<span class="token function">docker</span> logs -t --since<span class="token operator">=</span><span class="token string">&quot;2018-02-08T13:23:37&quot;</span> user-uat\n\n\u4F8B\uFF1A\u67E5\u770B\u67D0\u65F6\u95F4\u6BB5\u65E5\u5FD7\uFF1A\n<span class="token function">docker</span> logs -t --since<span class="token operator">=</span><span class="token string">&quot;2018-02-08T13:23:37&quot;</span> --until <span class="token string">&quot;2018-02-09T12:23:37&quot;</span> user-uat\n\n\u4F8B\uFF1A\u5C06\u9519\u8BEF\u65E5\u5FD7\u5199\u5165\u6587\u4EF6\uFF1A\n<span class="token function">docker</span> logs -f -t --since<span class="token operator">=</span><span class="token string">&quot;2018-02-18&quot;</span> user-uat <span class="token operator">|</span> <span class="token function">grep</span> error <span class="token operator">&gt;&gt;</span> logs_error.txt\n\n  \n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-docker-\u4ED3\u5E93" tabindex="-1"><a class="header-anchor" href="#_4-docker-\u4ED3\u5E93" aria-hidden="true">#</a> 4. Docker \u4ED3\u5E93</h2><p>\u4ED3\u5E93\uFF08Repository\uFF09\u662F\u96C6\u4E2D\u5B58\u653E\u955C\u50CF\u7684\u5730\u65B9\uFF0C\u5B83\u548C\u6211\u4EEC\u7684Maven\u4ED3\u5E93\u662F\u4E00\u6837\u7684\u3002\u4EE5\u4E0B\u4ECB\u7ECD\u4E00\u4E0B Docker Hub\u3002\u5F53\u7136\u4E0D\u6B62 docker hub\uFF0C\u53EA\u662F\u8FDC\u7A0B\u7684\u670D\u52A1\u5546\u4E0D\u4E00\u6837\uFF0C\u64CD\u4F5C\u90FD\u662F\u4E00\u6837\u7684\u3002</p><ul><li>\u53EF\u4EE5\u91C7\u7528\u5171\u6709\u7684\u4ED3\u5E93\uFF0C\u4E5F\u53EF\u4EE5\u81EA\u5DF1\u642D\u5EFADocker Registry;</li><li>\u5982\u679C\u4E4B\u524D\u6709\u81EA\u5DF1\u7684Artifactory\u6216\u8005Nexus\uFF0C\u5B83\u4EEC\u540C\u6837\u53EF\u4EE5\u652F\u6301Docker Registry\u529F\u80FD;</li><li>\u5E26\u754C\u9762\u7684\u4E5F\u53EF\u4EE5\u4F7F\u7528Harbor\u7B49;</li></ul><h2 id="\u53C2\u8003\u6587\u7AE0" tabindex="-1"><a class="header-anchor" href="#\u53C2\u8003\u6587\u7AE0" aria-hidden="true">#</a> \u53C2\u8003\u6587\u7AE0</h2>', 118);
const _hoisted_139 = {
  href: "https://pdai.tech/md/devops/docker/docker-03-basic2.html",
  target: "_blank",
  rel: "noopener noreferrer"
};
const _hoisted_140 = /* @__PURE__ */ createBaseVNode("strong", null, "Docker\u57FA\u7840 - \u4ED3\u5E93\uFF0C\u955C\u50CF\uFF0C\u5BB9\u5668\u8BE6\u89E3", -1);
function _sfc_render(_ctx, _cache) {
  const _component_ExternalLinkIcon = resolveComponent("ExternalLinkIcon");
  return openBlock(), createElementBlock("div", null, [
    _hoisted_1,
    createBaseVNode("ul", null, [
      createBaseVNode("li", null, [
        _hoisted_16,
        _hoisted_17,
        _hoisted_18,
        createBaseVNode("a", _hoisted_19, [
          _hoisted_20,
          createVNode(_component_ExternalLinkIcon)
        ])
      ])
    ]),
    _hoisted_21,
    createBaseVNode("p", null, [
      createBaseVNode("a", _hoisted_139, [
        _hoisted_140,
        createVNode(_component_ExternalLinkIcon)
      ])
    ])
  ]);
}
var Docker____________html = /* @__PURE__ */ _export_sfc(_sfc_main, [["render", _sfc_render], ["__file", "Docker\u57FA\u7840-\u4ED3\u5E93\u955C\u50CF\u5BB9\u5668\u8BE6\u89E3.html.vue"]]);
export { Docker____________html as default };
